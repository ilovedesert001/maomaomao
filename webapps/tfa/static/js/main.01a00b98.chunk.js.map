{"version":3,"sources":["libs/jsotp/lib/util.js","libs/jsotp/lib/otp.js","libs/jsotp/lib/jsotp.js","libs/jsotp/lib/totp.js","libs/jsotp/lib/nibbler/nibbler.js","libs/jsotp/lib/hotp.js","app/state.tsx","app/Util.tsx","app/components/Account.tsx","app/components/AccountList.tsx","app/components/SearchBox.tsx","app/components/AddForm.tsx","app/components/AppHeader.tsx","app/components/NowTime.tsx","app/components/SettingForm.tsx","app/pages/Main.tsx","app/ApiCenter.tsx","app/index.tsx","serviceWorker.js","index.js","libs/jsotp/lib/base32.js"],"names":["Object","defineProperty","exports","value","Util","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_base","require","instance","TypeError","_classCallCheck","this","num","n","numTmp","len","toString","arr","arrTmp","splice","diff","unshift","String","fromCharCode","secret","Base32","decode","toUpperCase","input","padding","arguments","inputTmp","result","push","reverse","arr_rjust","join","time","interval","timeStr","Date","parse","formatTime","substring","parseInt","OTP","_util","jsSHA","digits","digest","hmacObj","setHMACKey","byte_secret","update","int_to_bytestring","hmac_a","getHMAC","split","offset","charCodeAt","str_code","Math","pow","rjust","issuer","type","TOTP","HOTP","_totp","_hotp","_len","args","Array","_key","Function","bind","apply","concat","_get","get","object","property","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","call","_otp","_OTP","getNow","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","subClass","superClass","create","constructor","setPrototypeOf","_inherits","now","timecode","otp","otp_time","Nibbler","options","construct","translate","encode","pad","dataBits","codeBits","keyString","arrayData","mask","group","max","gcd","mag","prev","a","b","t","bitsIn","bitsOut","decoding","write","chr","byteIn","buffer","size","output","charAt","indexOf","Base64","b32encode","b32decode","b64encode","b64decode","count","counter","otp_count","at","AppRoute","createAdapter","configs","onNotify","payload","console","log","getInitialList","addItem","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","next","stop","removeItem","_callee2","_context2","updateItem","_callee3","_context3","getInitialDeltaTime","_callee4","_context4","abrupt","saveDeltaTime","_callee5","_context5","CoreStoreClazz","_class","adapter","classCallCheck","api","initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","addSeconds","deltaTime","window","timeDelta","ss","store","createClass","searchText","itemSet","Set","accountList","forEach","account","includes","add","remark","toConsumableArray","_","item","assign","findItems","applyDecoratedDescriptor","observable","initializer","name","test","computed","action","_this2","CoreStore","React","createContext","useStore","useContext","AppStoreClazz","coreStore","_descriptor6","_descriptor7","w","appss","appstore","Main","isEdit","AppStore","useApp","TOTPs","getTfaCode","totp","Account","observer","appStore","getLeftTime","nowSecond","getSeconds","_useSetState","useSetState","leftTime","code","_useSetState2","slicedToArray","state","setState","useEffect","timer","setInterval","clearInterval","copyCode","copy","notify","msg","progress","noTimeToDo","react_default","createElement","className","onClick","IconButton","iconProps","iconName","appRoute","AddOrEdit","addForm","ProgressIndicator","percentComplete","AccountList","mainPageAccounts","map","Account_Account","SearchBox","SearchBox_SearchBox","placeholder","onChange","AddForm","_appStore$addForm","err_secret","err_remark","TextField","label","required","disabled","e","errorMessage","multiline","rows","PrimaryButton","text","trim","AppHeader","CommandBar","items","farItems","Setting","iconOnly","NowTime","systemTime","usedTime","format","DatePicker","date","dateEl","useRef","timeEl","ins","currentDate","current","getTime","ref","useHookRef","hookRef","SettingForm","_useSetState3","timePickerVisible","_useSetState4","datePicker","NowTime_NowTime","Fragment","SettingForm_DatePicker","visible","deltaSecond","differenceInSeconds","xxx","fileReader","ToastContainer","FileReader","onload","event","png","err","pngData","pixelArray","data","Uint8ClampedArray","width","height","y","x","pixelData","getPixel","convertPNGtoByteArray","jsQR","notification","Notification","newInstance","getContainer","_ref","_ref$msg","_ref$time","notice","duration","content","onClose","setTimeout","AppHeader_AppHeader","components_SearchBox_SearchBox","AccountList_AccountList","AddForm_AddForm","SettingForm_SettingForm","ApiCenter","lsGet","defaultValues","field","ls","lsSet","val","lsRootStore","getAccounts","saveAccounts","accounts","createStore","createAppStore","initializeIcons","App","Provider","Main_Main","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker","nibbler","random_str","random"],"mappings":"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","file":"static/js/main.01a00b98.chunk.js","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Util = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  @module   : Util module to process the datas.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  @author   : Gin (gin.lance.inside@hotmail.com)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\r\n\r\nvar _base = require('./base32');\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Util = exports.Util = function () {\r\n  function Util() {\r\n    _classCallCheck(this, Util);\r\n  }\r\n\r\n  _createClass(Util, null, [{\r\n    key: 'rjust',\r\n\r\n    /* ＊\r\n       * Util rjust number with 0\r\n       *\r\n       * @param {num}\r\n       * @type {int}\r\n       * @desc input number\r\n       *\r\n       * @param {n}\r\n       * @type {int}\r\n       * @desc wanted length\r\n       *\r\n       * @return {String}\r\n       */\r\n    value: function rjust(num, n) {\r\n      var numTmp = num;\r\n      var len = numTmp.toString().length;\r\n\r\n      while (len < n) {\r\n        numTmp = '0' + numTmp;\r\n        len += 1;\r\n      }\r\n\r\n      return numTmp;\r\n    }\r\n\r\n    /* ＊\r\n       * Util rjust array with \"\"\r\n       *\r\n       * @param {arr}\r\n       * @type {Array}\r\n       * @desc input array\r\n       *\r\n       * @param {n}\r\n       * @type {int}\r\n       * @desc wanted length\r\n       *\r\n       * @return {BYTES}\r\n       */\r\n\r\n  }, {\r\n    key: 'arr_rjust',\r\n    value: function arr_rjust(arr, n) {\r\n      var arrTmp = arr;\r\n      if (n <= arrTmp.length) {\r\n        arrTmp = arrTmp.splice(arrTmp.length - 1 - n);\r\n        return arrTmp;\r\n      }\r\n      var diff = n - arrTmp.length;\r\n      for (var i = 0; i < diff; i += 1) {\r\n        arrTmp.unshift(String.fromCharCode(0));\r\n      }\r\n      return arrTmp;\r\n    }\r\n\r\n    /* ＊\r\n       * Base32 decode the init secret\r\n       *\r\n       * @param {secret}\r\n       * @type {String}\r\n       * @desc input param, the init secret\r\n       *\r\n       * @return {String}\r\n       */\r\n\r\n  }, {\r\n    key: 'byte_secret',\r\n    value: function byte_secret(secret) {\r\n      return _base.Base32.decode(secret.toUpperCase());\r\n    }\r\n\r\n    /* ＊\r\n       * transfer the int type to BYTES type\r\n       *\r\n       * @param {input}\r\n       * @type {int}\r\n       * @desc input param, maybe counter or time\r\n       *\r\n       * @return {BYTES}\r\n       */\r\n\r\n  }, {\r\n    key: 'int_to_bytestring',\r\n    value: function int_to_bytestring(input) {\r\n      var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\r\n\r\n      var inputTmp = input;\r\n      var result = [];\r\n\r\n      while (inputTmp !== 0) {\r\n        result.push(String.fromCharCode(inputTmp & 0xFF));\r\n        inputTmp >>= 8;\r\n      }\r\n\r\n      result = result.reverse();\r\n      result = Util.arr_rjust(result, padding).join('');\r\n\r\n      return result;\r\n    }\r\n\r\n    /* ＊\r\n       * format the time string to int\r\n       *\r\n       * @param {time}\r\n       * @type {Date}\r\n       * @desc the time need to be format\r\n       *\r\n       * @param {interval}\r\n       * @type {Int}\r\n       * @desc interval means the one-time password's life,\r\n       * default to be 30.\r\n       *\r\n       * @return {Int}\r\n       */\r\n\r\n  }, {\r\n    key: 'timecode',\r\n    value: function timecode(time, interval) {\r\n      var timeStr = Date.parse(time).toString();\r\n\r\n      // fotmat the time, the ms is not needed.\r\n      var formatTime = timeStr.substring(0, timeStr.length - 3);\r\n\r\n      return parseInt(parseInt(formatTime) / interval);\r\n    }\r\n  }]);\r\n\r\n  return Util;\r\n}();","'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.OTP = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _base = require('./base32');\r\n\r\nvar _util = require('./util');\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\n/*\r\n *  @module   : OTP module to generate the password\r\n *  @author   : Gin (gin.lance.inside@hotmail.com)\r\n */\r\nvar jsSHA = require('jssha');\r\n\r\nvar OTP = exports.OTP = function () {\r\n  /* ＊\r\n     * This constructor will create OTP instance.\r\n     *\r\n     * @param {secret}\r\n     * @type {String}\r\n     * @desc random base32-encoded key, it is the\r\n     * key that be used to verify.\r\n     *\r\n     * @param {digits}\r\n     * @type {int}\r\n     * @desc the length of the one-time password, default to be 6\r\n     *\r\n     * @param {digest}\r\n     * @type {String}\r\n     * @desc the key that be used to do HMAC encoding, dedault and\r\n     * only to be \"sha1\"\r\n     *\r\n     */\r\n  function OTP(secret) {\r\n    var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\r\n    var digest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'SHA-1';\r\n\r\n    _classCallCheck(this, OTP);\r\n\r\n    this.secret = secret;\r\n    this.digits = digits;\r\n    this.digest = digest;\r\n  }\r\n\r\n  /* ＊\r\n     * When class HOTP or TOTP pass the input params to this\r\n     * function, it will generate the OTP object with params,\r\n     * the params may be counter or time.\r\n     *\r\n     * @param {input}\r\n     * @type {int}\r\n     * @desc input params to generate OTP object, maybe\r\n     * counter or time.\r\n     *\r\n     * @return {OTP}\r\n     */\r\n\r\n\r\n  _createClass(OTP, [{\r\n    key: 'generate_otp',\r\n    value: function generate_otp(input) {\r\n      // generate HMAC object with SHA-1 digest\r\n      var hmacObj = new jsSHA(this.digest, 'BYTES');\r\n      // set hmac token\r\n      hmacObj.setHMACKey(_util.Util.byte_secret(this.secret), 'BYTES');\r\n      // hamc encode the input param\r\n      hmacObj.update(_util.Util.int_to_bytestring(input));\r\n\r\n      // get HMAC ans\r\n      var hmac = hmacObj.getHMAC('BYTES');\r\n\r\n      // transfer hmac to Array\r\n      var hmac_a = hmac.split('');\r\n\r\n      // calculate the init offset\r\n      var offset = hmac_a[hmac_a.length - 1].charCodeAt() & 0xf;\r\n\r\n      // calculate the code\r\n      var code = (hmac_a[offset].charCodeAt() & 0x7f) << 24 | (hmac_a[offset + 1].charCodeAt() & 0xff) << 16 | (hmac_a[offset + 2].charCodeAt() & 0xff) << 8 | hmac_a[offset + 3].charCodeAt() & 0xff;\r\n\r\n      // get the init str code\r\n      var str_code = (code % Math.pow(10, this.digits)).toString();\r\n\r\n      // rjust format\r\n      str_code = _util.Util.rjust(str_code, this.digits);\r\n\r\n      return str_code;\r\n    }\r\n\r\n    /* ＊\r\n       * Generate a url with TOTP or HOTP instance.\r\n       *\r\n       * @param {issuer}\r\n       * @type {String}\r\n       * @desc maybe it is the Service name\r\n       *\r\n       * @param {type}\r\n       * @type {String}\r\n       * @desc type of OTP instance\r\n       *\r\n       * @return {String}\r\n       */\r\n\r\n  }, {\r\n    key: 'url_gen',\r\n    value: function url_gen(issuer, type) {\r\n      return 'otpauth://' + type + '/SK?secret=' + this.secret + '&issuer=' + issuer;\r\n    }\r\n  }]);\r\n\r\n  return OTP;\r\n}();","'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Util = exports.Base32 = exports.TOTP = exports.HOTP = undefined;\r\n\r\nvar _totp = require('./totp');\r\n\r\nvar _hotp = require('./hotp');\r\n\r\nvar _base = require('./base32');\r\n\r\nvar _util = require('./util');\r\n\r\n/* ＊\r\n * Generate and return HOTP object\r\n *\r\n * @param {secret}\r\n * @type {String}\r\n * @desc random base32-encoded key to generate OTP.\r\n *\r\n * @return {OTP}\r\n */\r\n/*\r\n *  @project  : jsotp\r\n *  @author   : Gin (gin.lance.inside@hotmail.com)\r\n *  @link     : https://github.com/LanceGin/jsotp\r\n *  @Disc     : a node module to generate and verify one-time passwords\r\n */\r\n\r\nfunction hotp_gen(secret) {\r\n  var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\r\n  var digest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'SHA-1';\r\n\r\n  var hotp = new _hotp.HOTP(secret, digits, digest);\r\n  return hotp;\r\n}\r\n\r\n/* ＊\r\n * Generate and return TOTP object\r\n *\r\n * @param {secret}\r\n * @type {String}\r\n * @desc random base32-encoded key to generate OTP.\r\n *\r\n * @param {interval}\r\n * @type {int}\r\n * @desc the time interval in seconds for OTP.\r\n * This defaults to 30.\r\n *\r\n * @return {OTP}\r\n */\r\nfunction totp_gen() {\r\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n    args[_key] = arguments[_key];\r\n  }\r\n\r\n  var totp = new (Function.prototype.bind.apply(_totp.TOTP, [null].concat(args)))();\r\n  return totp;\r\n}\r\n\r\nexports.HOTP = hotp_gen;\r\nexports.TOTP = totp_gen;\r\nexports.Base32 = _base.Base32;\r\nexports.Util = _util.Util;","'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.TOTP = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _otp = require('./otp');\r\n\r\nvar _util = require('./util');\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @module   : TOTP module to generate and verify TOTP password\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @author   : Gin (gin.lance.inside@hotmail.com)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\r\n\r\nvar TOTP = exports.TOTP = function (_OTP) {\r\n  _inherits(TOTP, _OTP);\r\n\r\n  /* ＊\r\n     * @param {secret}\r\n     * @type {String}\r\n     * @desc random base32-encoded key to generate OTP.\r\n     *\r\n     * @param {interval}\r\n     * @type {int}\r\n     * @desc the time interval in seconds for OTP.\r\n     * This defaults to 30.\r\n     *\r\n     * @return {OTP}\r\n     */\r\n  function TOTP(secret, interval) {\r\n    var getNow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {\r\n      return new Date();\r\n    };\r\n\r\n    _classCallCheck(this, TOTP);\r\n\r\n    var _this = _possibleConstructorReturn(this, (TOTP.__proto__ || Object.getPrototypeOf(TOTP)).call(this, secret));\r\n\r\n    _this.interval = interval || 30;\r\n    _this.getNow = getNow;\r\n    return _this;\r\n  }\r\n\r\n  /* ＊\r\n     * Generate the OTP with current time.\r\n     *\r\n     * @return {OTP}\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * let totp = jsotp.TOTP('BASE32ENCODEDSECRET');\r\n     * totp.now(); // => 432143\r\n     * ```\r\n     */\r\n\r\n\r\n  _createClass(TOTP, [{\r\n    key: 'now',\r\n    value: function now() {\r\n      // get now time string\r\n      var now = _util.Util.timecode(this.getNow(), this.interval);\r\n\r\n      // generate the one-time password\r\n      var digit = _get(TOTP.prototype.__proto__ || Object.getPrototypeOf(TOTP.prototype), 'generate_otp', this).call(this, now);\r\n      return digit;\r\n    }\r\n\r\n    /* ＊\r\n       * Verifies the OTP passed in against the current time OTP.\r\n       *\r\n       * @param {otp}\r\n       * @type {String}\r\n       * @desc the OTP waiting for checking\r\n       *\r\n       * @param {time}\r\n       * @type {int or datetime}\r\n       * @desc Time to check OTP at (defaults to now)\r\n       *\r\n       * @return {Boolean}\r\n       *\r\n       * @example\r\n       * ```javascript\r\n       * let totp = jsotp.TOTP('BASE32ENCODEDSECRET');\r\n       * totp.now(); // => 432143\r\n       * // Verify for current time\r\n       * totp.verify(432143); // => true\r\n       * // Verify after 30s\r\n       * totp.verify(432143); // => false\r\n       * ```\r\n       */\r\n\r\n  }, {\r\n    key: 'verify',\r\n    value: function verify(otp) {\r\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n      var otp_time = void 0;\r\n\r\n      if (time == null) {\r\n        time = this.getNow();\r\n      }\r\n      otp_time = _get(TOTP.prototype.__proto__ || Object.getPrototypeOf(TOTP.prototype), 'generate_otp', this).call(this, _util.Util.timecode(time, this.interval));\r\n\r\n      if (typeof otp === 'number') {\r\n        otp = otp.toString();\r\n      }\r\n\r\n      if (otp === otp_time) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n    /* ＊\r\n       * Generate a url with TOTP instance.\r\n       *\r\n       * @param {issuer}\r\n       * @type {String}\r\n       * @desc maybe it is the Service name\r\n       *\r\n       * @return {String}\r\n       */\r\n\r\n  }, {\r\n    key: 'url_gen',\r\n    value: function url_gen() {\r\n      var issuer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\r\n\r\n      return _get(TOTP.prototype.__proto__ || Object.getPrototypeOf(TOTP.prototype), 'url_gen', this).call(this, issuer, 'totp');\r\n    }\r\n  }]);\r\n\r\n  return TOTP;\r\n}(_otp.OTP);","'use strict';\r\n\r\n/*\r\nAdapted for Node.js by Matt Robenolt\r\nReference: http://www.tumuski.com/2010/04/nibbler/\r\n*/\r\n\r\nvar Nibbler = function Nibbler(options) {\r\n  var construct = void 0,\r\n\r\n\r\n  // options\r\n  pad = void 0,\r\n      dataBits = void 0,\r\n      codeBits = void 0,\r\n      keyString = void 0,\r\n      arrayData = void 0,\r\n\r\n\r\n  // private instance variables\r\n  mask = void 0,\r\n      group = void 0,\r\n      max = void 0,\r\n\r\n\r\n  // private methods\r\n  gcd = void 0,\r\n      translate = void 0,\r\n\r\n\r\n  // public methods\r\n  encode = void 0,\r\n      decode = void 0;\r\n\r\n  // pseudo-constructor\r\n  construct = function construct() {\r\n    var i = void 0,\r\n        mag = void 0,\r\n        prev = void 0;\r\n\r\n    // options\r\n    pad = options.pad || '';\r\n    dataBits = options.dataBits;\r\n    codeBits = options.codeBits;\r\n    keyString = options.keyString;\r\n    arrayData = options.arrayData;\r\n\r\n    // bitmasks\r\n    mag = Math.max(dataBits, codeBits);\r\n    prev = 0;\r\n    mask = [];\r\n    for (i = 0; i < mag; i += 1) {\r\n      mask.push(prev);\r\n      prev += prev + 1;\r\n    }\r\n    max = prev;\r\n\r\n    // ouput code characters in multiples of this number\r\n    group = dataBits / gcd(dataBits, codeBits);\r\n  };\r\n\r\n  // greatest common divisor\r\n  gcd = function gcd(a, b) {\r\n    var t = void 0;\r\n    while (b !== 0) {\r\n      t = b;\r\n      b = a % b;\r\n      a = t;\r\n    }\r\n    return a;\r\n  };\r\n\r\n  // the re-coder\r\n  translate = function translate(input, bitsIn, bitsOut, decoding) {\r\n    var i = void 0,\r\n        len = void 0,\r\n        chr = void 0,\r\n        byteIn = void 0,\r\n        buffer = void 0,\r\n        size = void 0,\r\n        output = void 0,\r\n        write = void 0;\r\n\r\n    // append a byte to the output\r\n    write = function write(n) {\r\n      if (!decoding) {\r\n        output.push(keyString.charAt(n));\r\n      } else if (arrayData) {\r\n        output.push(n);\r\n      } else {\r\n        output.push(String.fromCharCode(n));\r\n      }\r\n    };\r\n\r\n    buffer = 0;\r\n    size = 0;\r\n    output = [];\r\n\r\n    len = input.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      // the new size the buffer will be after adding these bits\r\n      size += bitsIn;\r\n\r\n      // read a character\r\n      if (decoding) {\r\n        // decode it\r\n        chr = input.charAt(i);\r\n        byteIn = keyString.indexOf(chr);\r\n        if (chr === pad) {\r\n          break;\r\n        } else if (byteIn < 0) {\r\n          throw 'the character \"' + chr + '\" is not a member of ' + keyString;\r\n        }\r\n      } else {\r\n        if (arrayData) {\r\n          byteIn = input[i];\r\n        } else {\r\n          byteIn = input.charCodeAt(i);\r\n        }\r\n        if ((byteIn | max) !== max) {\r\n          throw byteIn + ' is outside the range 0-' + max;\r\n        }\r\n      }\r\n\r\n      // shift the buffer to the left and add the new bits\r\n      buffer = buffer << bitsIn | byteIn;\r\n\r\n      // as long as there's enough in the buffer for another output...\r\n      while (size >= bitsOut) {\r\n        // the new size the buffer will be after an output\r\n        size -= bitsOut;\r\n\r\n        // output the part that lies to the left of that number of bits\r\n        // by shifting the them to the right\r\n        write(buffer >> size);\r\n\r\n        // remove the bits we wrote from the buffer\r\n        // by applying a mask with the new size\r\n        buffer &= mask[size];\r\n      }\r\n    }\r\n\r\n    // If we're encoding and there's input left over, pad the output.\r\n    // Otherwise, leave the extra bits off, 'cause they themselves are padding\r\n    if (!decoding && size > 0) {\r\n      // flush the buffer\r\n      write(buffer << bitsOut - size);\r\n\r\n      // add padding keyString for the remainder of the group\r\n      len = output.length % group;\r\n      for (i = 0; i < len; i += 1) {\r\n        output.push(pad);\r\n      }\r\n    }\r\n\r\n    // string!\r\n    return arrayData && decoding ? output : output.join('');\r\n  };\r\n\r\n  /**\r\n     * Encode.  Input and output are strings.\r\n     */\r\n  encode = function encode(input) {\r\n    return translate(input, dataBits, codeBits, false);\r\n  };\r\n\r\n  /**\r\n     * Decode.  Input and output are strings.\r\n     */\r\n  decode = function decode(input) {\r\n    return translate(input, codeBits, dataBits, true);\r\n  };\r\n\r\n  this.encode = encode;\r\n  this.decode = decode;\r\n  construct();\r\n};\r\n\r\nvar Base32 = new Nibbler({\r\n  dataBits: 8,\r\n  codeBits: 5,\r\n  keyString: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\r\n  pad: '='\r\n});\r\nvar Base64 = new Nibbler({\r\n  dataBits: 8,\r\n  codeBits: 6,\r\n  keyString: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\r\n  pad: '='\r\n});\r\n\r\nexports.Nibbler = Nibbler;\r\nexports.b32encode = Base32.encode;\r\nexports.b32decode = Base32.decode;\r\nexports.b64encode = Base64.encode;\r\nexports.b64decode = Base64.decode;","'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.HOTP = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _otp = require('./otp');\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @module   : HOTP module to generate and verify HOTP password\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @author   : Gin (gin.lance.inside@hotmail.com)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\r\n\r\nvar HOTP = exports.HOTP = function (_OTP) {\r\n  _inherits(HOTP, _OTP);\r\n\r\n  function HOTP() {\r\n    _classCallCheck(this, HOTP);\r\n\r\n    return _possibleConstructorReturn(this, (HOTP.__proto__ || Object.getPrototypeOf(HOTP)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(HOTP, [{\r\n    key: 'at',\r\n\r\n    /* ＊\r\n       * Generate the OTP with the given count\r\n       *\r\n       * @param {count}\r\n       * @type {int}\r\n       * @desc the OTP HMAC counter\r\n       *\r\n       * @return {OTP}\r\n       *\r\n       * @example\r\n       * ```javascript\r\n       * let hotp = jsotp.HOTP('BASE32_ENCODED_SECRET');\r\n       * hotp.at(0); // => 432143\r\n       * ```\r\n       */\r\n    value: function at(count) {\r\n      var digit = _get(HOTP.prototype.__proto__ || Object.getPrototypeOf(HOTP.prototype), 'generate_otp', this).call(this, count);\r\n      return digit;\r\n    }\r\n\r\n    /* ＊\r\n       * Verifies the OTP passed in against the current counter.\r\n       *\r\n       * @param {otp}\r\n       * @type {String}\r\n       * @desc the OTP waiting for checking\r\n       *\r\n       * @param {counter}\r\n       * @type {int}\r\n       * @desc the OTP HMAC counter\r\n       *\r\n       * @return {Boolean}\r\n       *\r\n       * @example\r\n       * ```javascript\r\n       * let hotp = jsotp.HOTP('BASE32_ENCODED_SECRET');\r\n       * hotp.at(0); // => 432143\r\n       * hotp.verify(432143, 0); // => true\r\n       * hotp.verify(432143, 1); // => false\r\n       * ```\r\n       */\r\n\r\n  }, {\r\n    key: 'verify',\r\n    value: function verify(otp, counter) {\r\n      var otp_count = this.at(counter);\r\n\r\n      if (typeof otp === 'number') {\r\n        otp = otp.toString();\r\n      }\r\n\r\n      if (otp === otp_count) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n    /* ＊\r\n       * Generate a url with HOTP instance.\r\n       *\r\n       * @param {issuer}\r\n       * @type {String}\r\n       * @desc maybe it is the Service name\r\n       *\r\n       * @return {String}\r\n       */\r\n\r\n  }, {\r\n    key: 'url_gen',\r\n    value: function url_gen() {\r\n      var issuer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\r\n\r\n      return _get(HOTP.prototype.__proto__ || Object.getPrototypeOf(HOTP.prototype), 'url_gen', this).call(this, issuer, 'hotp');\r\n    }\r\n  }]);\r\n\r\n  return HOTP;\r\n}(_otp.OTP);","import { action, computed, observable } from 'mobx'\r\nimport * as _ from 'lodash'\r\nimport React, { useContext } from 'react'\r\nimport { ApiCenter } from './ApiCenter'\r\nimport { addSeconds } from 'date-fns'\r\n\r\n//其他平台上，以适配器的方式相应\r\n\r\ninterface AdapterConfigs {\r\n  onNotify?: (any) => any\r\n  getInitialList?: () => Array<AccountItem>\r\n  addItem?: (item: AccountItem) => any\r\n  removeItem?: (item: AccountItem) => any\r\n  updateItem?: (item: AccountItem) => any\r\n  getInitialDeltaTime?: () => any\r\n  saveDeltaTime?: (timeDelta: number) => any\r\n}\r\n\r\nexport const createAdapter = (configs: AdapterConfigs) => {\r\n\r\n  const adapter: AdapterConfigs = {\r\n\r\n    onNotify: configs.onNotify || ((payload) => {\r\n      console.log(payload)\r\n    }),\r\n\r\n    getInitialList: configs.getInitialList || (() => {\r\n      return []\r\n    }),\r\n\r\n    addItem: configs.addItem || (async () => {\r\n      console.log('例如可以写进到localstorge 中')\r\n    }),\r\n\r\n    removeItem: configs.removeItem || (async () => {\r\n      console.log('从localstorge 中删除')\r\n    }),\r\n\r\n    updateItem: configs.updateItem || (async () => {\r\n      console.log('uuupdate')\r\n    }),\r\n\r\n    getInitialDeltaTime: configs.getInitialDeltaTime || (async () => {\r\n      return 0\r\n    }),\r\n\r\n    saveDeltaTime: configs.saveDeltaTime || (async () => {\r\n      console.log('uuupdate')\r\n    }),\r\n\r\n  }\r\n\r\n  return adapter\r\n}\r\n\r\n//骨架作为核心 通用\r\n\r\nexport type AccountItem = {\r\n  secret: string,\r\n  remark: string,\r\n}\r\n\r\nexport class CoreStoreClazz {\r\n  adapter: AdapterConfigs\r\n  api: ApiCenter\r\n\r\n  constructor (adapter) {\r\n    this.adapter = adapter\r\n    this.deltaTime = this.adapter.getInitialDeltaTime()\r\n    if (typeof window !== 'undefined') {\r\n\r\n      // window.timeDelta = 1000 * 20\r\n      window.timeDelta = 0\r\n\r\n      window.ss = window.store = this\r\n\r\n    }\r\n  }\r\n\r\n  @observable appConfig = {\r\n    name: 'tfa 管理器',\r\n    test: 'aaaa',\r\n  }\r\n  @observable accountList = this.adapter.getInitialList() as Array<AccountItem>\r\n\r\n  @observable searchText = ''\r\n\r\n  @computed get mainPageAccounts () {\r\n    const searchText = _.trim(this.searchText)\r\n    if (searchText === '') {\r\n      return this.accountList\r\n    } else {\r\n      return this.findItems(searchText)\r\n    }\r\n  }\r\n\r\n  @action findItems (searchText): Array<AccountItem> {\r\n    const itemSet = new Set()\r\n    this.accountList.forEach((account) => {\r\n      account.secret.includes(searchText) && itemSet.add(account)\r\n      account.remark.includes(searchText) && itemSet.add(account)\r\n    })\r\n    return [...itemSet as any]\r\n  }\r\n\r\n  @action addItem (account: AccountItem) {\r\n    if (_.find(this.accountList, {secret: account.secret})) {\r\n      this.adapter.onNotify(account)\r\n    } else {\r\n      this.accountList.push(account)\r\n      this.adapter.addItem(account)\r\n    }\r\n  }\r\n\r\n  @action removeItem (secret: AccountItem['secret']) {\r\n    const item: AccountItem = _.find(this.accountList, {secret})\r\n    if (item) {\r\n      _.remove(this.accountList, item)\r\n      this.adapter.removeItem(item)\r\n    }\r\n\r\n  }\r\n\r\n  @action updateItem (account: AccountItem) {\r\n    const item: AccountItem = _.find(this.accountList, {secret: account.secret})\r\n    if (item) {\r\n      Object.assign(item, {\r\n        remark: account.remark,\r\n      })\r\n      this.adapter.updateItem(item)\r\n    }\r\n  }\r\n\r\n  @observable deltaTime = 0\r\n  @action saveDeltaTime = (deltaTime: number) => {\r\n    this.deltaTime = deltaTime\r\n    this.adapter.saveDeltaTime(deltaTime)\r\n  }\r\n\r\n  getNow = () => {\r\n    const now = new Date()\r\n    const usedTime = addSeconds(now, this.deltaTime)\r\n    return usedTime\r\n  }\r\n\r\n}\r\n\r\nexport const createStore = (adapter = createAdapter({})) => {\r\n\r\n  const store = new CoreStoreClazz(adapter)\r\n  return store\r\n}\r\nexport const CoreStore = React.createContext(null)\r\nexport const useStore = () => useContext(CoreStore) as CoreStoreClazz\r\n\r\n//app 自己的状态\r\n\r\nexport enum AppRoute {\r\n  Main,\r\n  AddOrEdit,\r\n  Setting,\r\n}\r\n\r\nclass AppStoreClazz {\r\n\r\n  coreStore: CoreStoreClazz\r\n\r\n  constructor (coreStore: CoreStoreClazz) {\r\n    this.coreStore = coreStore\r\n    if (typeof window !== 'undefined') {\r\n      const w: any = window\r\n      w.appss = w.appstore = this\r\n    }\r\n  }\r\n\r\n  @observable appRoute = AppRoute.Main\r\n  @observable addForm = {\r\n    isEdit: false,//edit , create\r\n    secret: '',\r\n    remark: '',\r\n  }\r\n\r\n}\r\n\r\nexport const createAppStore = (CoreStore: CoreStoreClazz) => {\r\n  const store = new AppStoreClazz(CoreStore)\r\n  return store\r\n}\r\nexport const AppStore = React.createContext(null)\r\nexport const useApp = () => useContext(AppStore) as AppStoreClazz\r\n\r\n\r\n","import { useEffect } from 'react'\r\nimport { TOTP } from '../libs/jsotp/lib/jsotp'\r\nimport { CoreStoreClazz } from './state'\r\n\r\nconst TOTPs = {}\r\nexport const getTfaCode = (secret, store: CoreStoreClazz) => {\r\n  let totp = TOTPs[secret]\r\n  if (!totp) {\r\n    totp = TOTP(secret, 30, store.getNow)\r\n    TOTPs[secret] = totp\r\n  }\r\n  return totp.now()\r\n}\r\n\r\n/**\r\n //由于 hook 组件，不会有ref ， 所以产生了这个\r\n\r\n\r\n\r\n */\r\nexport const useHookRef = (ref, ins) => {\r\n  useEffect(() => {\r\n    ref && (ref.current = ins.current)\r\n  }, [])\r\n}\r\n","import { observer } from 'mobx-react-lite'\r\nimport { AccountItem, AppRoute, useApp, useStore } from '../state'\r\nimport React, { useEffect } from 'react'\r\nimport { getTfaCode } from '../Util'\r\nimport getSeconds from 'date-fns/get_seconds'\r\nimport { IconButton, ProgressIndicator } from 'office-ui-fabric-react'\r\nimport copy from 'clipboard-copy'\r\nimport { useSetState } from 'react-use'\r\n\r\nconst timeDelta = 30\r\n\r\nexport const Account = observer(function Account (props: { account: AccountItem }) {\r\n  const store = useStore()\r\n  const appStore = useApp()\r\n\r\n  const {account} = props\r\n\r\n  const getLeftTime = () => {\r\n    let nowSecond = getSeconds(store.getNow())\r\n    if (nowSecond > timeDelta) {\r\n      nowSecond -= timeDelta\r\n    }\r\n    return nowSecond\r\n  }\r\n\r\n  const [state, setState] = useSetState({\r\n    leftTime: getLeftTime(),\r\n    code: getTfaCode(account.secret, store),\r\n  })\r\n\r\n  useEffect(() => {\r\n    const timer = window.setInterval(() => {\r\n      setState({\r\n        leftTime: getLeftTime(),\r\n        code: getTfaCode(account.secret, store),\r\n      })\r\n    }, 1000)\r\n\r\n    return () => {\r\n      window.clearInterval(timer)\r\n    }\r\n  }, [])\r\n\r\n  const copyCode = () => {\r\n    copy(state.code)\r\n    store.api.notify({msg: '已复制到剪贴板'})\r\n  }\r\n\r\n  const progress = state.leftTime / timeDelta\r\n  let noTimeToDo = false\r\n  if (progress > 0.88) {\r\n    noTimeToDo = true\r\n  }\r\n\r\n  return (\r\n    <div className={`Account ${noTimeToDo ? 'noTimeToDo' : ' '}`}>\r\n      <div className={'Account-panel'}>\r\n        <div className={'code-row'}>\r\n          <div\r\n            className={'ms-font-su ms-fontWeight-semibold tfa-code ms-fadeIn100'}\r\n            onClick={copyCode}\r\n          >\r\n            {state.code}\r\n          </div>\r\n          <div className={'action-btns'}>\r\n            <IconButton\r\n              iconProps={{iconName: 'Copy'}}\r\n              onClick={copyCode}\r\n            />\r\n            <IconButton\r\n              iconProps={{iconName: 'PageEdit'}}\r\n              onClick={() => {\r\n                appStore.appRoute = AppRoute.AddOrEdit\r\n                appStore.addForm.isEdit = true\r\n                appStore.addForm.secret = account.secret\r\n                appStore.addForm.remark = account.remark\r\n              }}\r\n            />\r\n\r\n            <IconButton\r\n              iconProps={{iconName: 'PageRemove'}}\r\n              onClick={() => {\r\n                store.removeItem(account.secret)\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div className={'ms-font-m'}>\r\n            <pre>{account.remark}</pre>\r\n          </div>\r\n        </div>\r\n        <ProgressIndicator percentComplete={progress}/>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n","import { observer } from 'mobx-react-lite'\r\nimport { useStore } from '../state'\r\nimport React from 'react'\r\nimport { Account } from './Account'\r\n\r\nexport const AccountList = observer(function AccountList () {\r\n  const store = useStore()\r\n  const {mainPageAccounts} = store\r\n  return (\r\n    <div className={'AccountList'}>\r\n      {mainPageAccounts.map((account) => <Account key={account.secret} account={account}/>)}\r\n    </div>\r\n  )\r\n})\r\n","import { observer } from 'mobx-react-lite'\r\nimport { useStore } from '../state'\r\nimport React from 'react'\r\nimport { SearchBox as FabricSearchBox } from 'office-ui-fabric-react/lib/SearchBox'\r\n\r\nexport const SearchBox = observer(function SearchBox () {\r\n  const store = useStore()\r\n  return (\r\n    <div className={'SearchBox'}>\r\n      <FabricSearchBox\r\n        iconProps={{iconName: 'Filter'}}\r\n        placeholder=\"Search\"\r\n        onChange={(searchText) => {\r\n          store.searchText = searchText\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n})\r\n","import { observer } from 'mobx-react-lite'\r\nimport { AppRoute, useApp, useStore } from '../state'\r\nimport React from 'react'\r\nimport { PrimaryButton, TextField } from 'office-ui-fabric-react'\r\nimport { useSetState } from 'react-use'\r\n\r\nexport const AddForm = observer(function AddForm () {\r\n  const store = useStore()\r\n\r\n  const appStore = useApp()\r\n  const {secret, remark, isEdit} = appStore.addForm\r\n\r\n  const [state, setState] = useSetState({\r\n    err_secret: null as string,\r\n    err_remark: null as string,\r\n  })\r\n\r\n  return (\r\n    <div className={'AddForm'}>\r\n      <div>\r\n        <TextField\r\n          label=\"请输入秘钥\"\r\n          required={true}\r\n          disabled={isEdit}\r\n          value={secret}\r\n          onChange={(e: any) => {\r\n            appStore.addForm.secret = e.target.value\r\n          }}\r\n          errorMessage={state.err_secret}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <TextField\r\n          label=\"请输入其他信息\"\r\n          multiline\r\n          rows={3}\r\n          value={remark}\r\n          onChange={(e: any) => {\r\n            appStore.addForm.remark = e.target.value\r\n            store.api.notify({msg: '输入变化'})\r\n          }}\r\n          errorMessage={state.err_remark}\r\n        />\r\n      </div>\r\n\r\n      <div className={'addButton'}>\r\n        <PrimaryButton\r\n          text={isEdit ? '更新' : '添加'}\r\n          onClick={() => {\r\n            if (secret.trim() === '') {\r\n              setState({err_secret: '秘钥不能为空'})\r\n              return 0\r\n            }\r\n            if (remark.trim() === '') {\r\n              setState({err_remark: '备注不能为空'})\r\n              return 0\r\n            }\r\n\r\n            if (isEdit) {\r\n              store.updateItem(appStore.addForm)\r\n            } else {\r\n              store.addItem(appStore.addForm)\r\n            }\r\n            appStore.appRoute = AppRoute.Main\r\n          }}\r\n        />\r\n      </div>\r\n\r\n\r\n    </div>\r\n  )\r\n})\r\n","import { observer } from 'mobx-react-lite'\r\nimport { AppRoute, useApp, useStore } from '../state'\r\nimport React from 'react'\r\nimport { CommandBar } from 'office-ui-fabric-react'\r\n\r\nexport const AppHeader = observer(function AppHeader () {\r\n  const store = useStore()\r\n\r\n  const appStore = useApp()\r\n\r\n  const getItems = () => {\r\n\r\n    if (appStore.appRoute === AppRoute.Main) {\r\n      return [\r\n        {\r\n          key: 'newItem',\r\n          // name: 'New',\r\n          iconProps: {\r\n            iconName: 'Add',\r\n          },\r\n          onClick: () => {\r\n            appStore.appRoute = AppRoute.AddOrEdit\r\n            appStore.addForm.isEdit = false\r\n            appStore.addForm.secret = ''\r\n            appStore.addForm.remark = ''\r\n          },\r\n        },\r\n\r\n        {\r\n          key: 'Download',\r\n          iconProps: {\r\n            iconName: 'Download',\r\n          },\r\n          disabled: true,\r\n        },\r\n        {\r\n          key: 'upload',\r\n          iconProps: {\r\n            iconName: 'Upload',\r\n          },\r\n          disabled: true,\r\n        },\r\n      ]\r\n    } else {\r\n      return [\r\n        {\r\n          key: 'NavigateBack',\r\n          iconProps: {\r\n            iconName: 'NavigateBack',\r\n          },\r\n          onClick: () => {\r\n            appStore.appRoute = AppRoute.Main\r\n          },\r\n        },\r\n      ]\r\n    }\r\n  }\r\n\r\n  const getFarItems = () => {\r\n\r\n    if (appStore.appRoute === AppRoute.Setting) {\r\n      return [\r\n        {\r\n          key: 'info',\r\n          name: 'Info',\r\n          iconProps: {\r\n            iconName: 'Info',\r\n          },\r\n          iconOnly: true,\r\n          onClick: () => console.log('Info'),\r\n        },\r\n      ]\r\n    } else {\r\n      return [\r\n        {\r\n          key: 'Settings',\r\n          iconProps: {\r\n            iconName: 'Settings',\r\n          },\r\n          onClick: () => {\r\n            appStore.appRoute = AppRoute.Setting\r\n          },\r\n        },\r\n\r\n        {\r\n          key: 'info',\r\n          name: 'Info',\r\n          iconProps: {\r\n            iconName: 'Info',\r\n          },\r\n          iconOnly: true,\r\n          onClick: () => console.log('Info'),\r\n        },\r\n      ]\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className={'AppHeader'}>\r\n      <CommandBar items={getItems()} farItems={getFarItems()}/>\r\n    </div>\r\n  )\r\n})\r\n","import { observer } from 'mobx-react-lite'\r\nimport { useApp, useStore } from '../state'\r\nimport React, { useEffect } from 'react'\r\nimport { useSetState } from 'react-use'\r\nimport { format, addSeconds } from 'date-fns'\r\n\r\nexport const NowTime = observer(function NowTime () {\r\n  const store = useStore()\r\n\r\n  const [state, setState] = useSetState({\r\n    systemTime: new Date(),\r\n    usedTime: new Date(),\r\n  })\r\n\r\n  useEffect(() => {\r\n    const timer = window.setInterval(() => {\r\n      const now = new Date()\r\n      const usedTime = addSeconds(now, store.deltaTime)\r\n      setState({\r\n        systemTime: now,\r\n        usedTime,\r\n      })\r\n    }, 1000)\r\n\r\n    return () => {\r\n      window.clearInterval(timer)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={'NowTime'}>\r\n      <div>系统时间:{format(state.systemTime, 'YYYY-MM-DD HH:mm:ss')}</div>\r\n      <div>使用时间:{format(state.usedTime, 'YYYY-MM-DD HH:mm:ss')}</div>\r\n    </div>\r\n  )\r\n})\r\n","import { observer } from 'mobx-react-lite'\r\nimport { useApp, useStore } from '../state'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport { PrimaryButton } from 'office-ui-fabric-react'\r\nimport { NowTime } from './NowTime'\r\nimport { useSetState } from 'react-use'\r\nimport { useHookRef } from '../Util'\r\nimport { format, parse, differenceInSeconds } from 'date-fns'\r\n\r\nconst DatePicker = (props: { visible: boolean, hookRef? }) => {\r\n\r\n  const [state, setState] = useSetState({\r\n    date: '',\r\n    time: '',\r\n  })\r\n\r\n  const dateEl = useRef(null)\r\n  const timeEl = useRef(null)\r\n\r\n  const ins = useRef({\r\n    currentDate: null as number\r\n  })\r\n\r\n  useEffect(() => {\r\n    const now = new Date()\r\n    setState({\r\n      date: format(now, 'YYYY-MM-DD'),\r\n      time: format(now, 'HH:mm'),\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (state.date && state.time) {\r\n      ins.current.currentDate = parse(state.date + ' ' + state.time).getTime()\r\n    }\r\n  }, [state.date, state.time])\r\n\r\n  useHookRef(props.hookRef, ins)\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        type={'date'}\r\n        ref={dateEl}\r\n        value={state.date}\r\n        onChange={(e) => setState({date: e.target.value})}\r\n      />\r\n      <input\r\n        ref={timeEl}\r\n        type={'time'}\r\n        value={state.time}\r\n        onChange={(e) => setState({time: e.target.value})}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const SettingForm = observer(function SettingForm () {\r\n  const store = useStore()\r\n\r\n  const appStore = useApp()\r\n  const {secret, remark, isEdit} = appStore.addForm\r\n\r\n  const [state, setState] = useSetState({\r\n    timePickerVisible: false,\r\n  })\r\n\r\n  const datePicker = useRef(null)\r\n\r\n  return (\r\n    <div className={'SettingForm'}>\r\n\r\n      <div className={'time-now'}>\r\n        <NowTime/>\r\n      </div>\r\n\r\n\r\n      <div className={'sync-btn'}>\r\n        <PrimaryButton\r\n          iconProps={{iconName: 'Sync'}}\r\n        >\r\n          同步网络时间\r\n        </PrimaryButton>\r\n      </div>\r\n\r\n\r\n      <div className={'user-sync-btn'}>\r\n        <PrimaryButton\r\n          iconProps={{iconName: 'Timer'}}\r\n          onClick={() => {\r\n            setState({timePickerVisible: !state.timePickerVisible})\r\n          }}\r\n        >\r\n          手动设置时间\r\n        </PrimaryButton>\r\n        <div className={'time-set-div'}>\r\n          {state.timePickerVisible && (\r\n            <>\r\n              <DatePicker hookRef={datePicker} visible={state.timePickerVisible}/>\r\n              <PrimaryButton\r\n                iconProps={{iconName: 'SkypeCheck'}}\r\n                onClick={() => {\r\n                  console.log(datePicker.current)\r\n                  if (datePicker.current.currentDate) {\r\n                    const now = new Date()\r\n                    const deltaSecond = differenceInSeconds(datePicker.current.currentDate, now)\r\n                    store.saveDeltaTime(deltaSecond)\r\n                  }\r\n                  setState({timePickerVisible: false})\r\n                }}\r\n              >\r\n                确定使用此时间作为当前时间\r\n              </PrimaryButton>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n    </div>\r\n  )\r\n})\r\n","import { observer } from 'mobx-react-lite'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport { AppRoute, useApp, useStore } from '../state'\r\nimport { AccountList } from '../components/AccountList'\r\nimport { SearchBox } from '../components/SearchBox'\r\nimport { AddForm } from '../components/AddForm'\r\nimport { AppHeader } from '../components/AppHeader'\r\nimport jsQR from 'jsqr'\r\nimport png from 'png.js'\r\nimport { SettingForm } from '../components/SettingForm'\r\n\r\nimport 'rmc-notification/assets/index.css'\r\nimport Notification from 'rmc-notification'\r\nimport { NowTime } from '../components/NowTime'\r\n\r\n// Sadly png.js doesn't return an array of pixel data, so we have to construct one by iterating over and calling getPixel\r\nfunction convertPNGtoByteArray (pngData) {\r\n  const data = new Uint8ClampedArray(pngData.width * pngData.height * 4)\r\n  for (let y = 0; y < pngData.height; y++) {\r\n    for (let x = 0; x < pngData.width; x++) {\r\n      const pixelData = pngData.getPixel(x, y)\r\n\r\n      data[(y * pngData.width + x) * 4 + 0] = pixelData[0]\r\n      data[(y * pngData.width + x) * 4 + 1] = pixelData[1]\r\n      data[(y * pngData.width + x) * 4 + 2] = pixelData[2]\r\n      data[(y * pngData.width + x) * 4 + 3] = pixelData[3]\r\n    }\r\n  }\r\n  return data\r\n}\r\n\r\nexport const Main = observer(function Main (xxx) {\r\n  const store = useStore()\r\n  const appStore = useApp()\r\n\r\n  const fileReader = useRef(null)\r\n  const inputFileEl = useRef(null)\r\n\r\n  const ToastContainer = useRef(null)\r\n\r\n  useEffect(() => {\r\n    fileReader.current = new FileReader()\r\n\r\n    fileReader.current.onload = function (event) {\r\n      const pngReader = new png(event.target.result)\r\n      pngReader.parse(function (err, pngData) {\r\n        if (err) throw err\r\n        const pixelArray = convertPNGtoByteArray(pngData)\r\n        console.log('a', jsQR(pixelArray, pngData.width, pngData.height))\r\n      })\r\n    }\r\n\r\n    let notification = null\r\n    Notification.newInstance({\r\n      getContainer: () => ToastContainer.current,\r\n    }, (n) => notification = n)\r\n\r\n    store.api.notify = ({msg = 'msg', time = 1.5}) => {\r\n      notification.notice({\r\n        duration: time,\r\n        content: <span>{msg}</span>,\r\n        onClose () {\r\n          console.log('simple close')\r\n        },\r\n      })\r\n    }\r\n\r\n    setTimeout(() => {\r\n\r\n      // store.api.notify({msg: '你好世界'})\r\n\r\n    }, 2000)\r\n\r\n    // toast.current.raise({\r\n    //   // content: <div>这是内容</div>,\r\n    //   // onClick: ({ toastId, dismiss }) => { console.log('dismissing!'); dismiss(); }\r\n    // });\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <div className={'Main'}>\r\n      <div ref={ToastContainer}/>\r\n\r\n      {/*<form>*/}\r\n      {/*<input*/}\r\n      {/*ref={inputFileEl}*/}\r\n      {/*type=\"file\"*/}\r\n      {/*onChange={(evt) => {*/}\r\n      {/*fileReader.current.readAsArrayBuffer(inputFileEl.current.files[0])*/}\r\n      {/*}}*/}\r\n      {/*/>*/}\r\n      {/*</form>*/}\r\n\r\n      <AppHeader/>\r\n      {appStore.appRoute === AppRoute.Main && (\r\n        <>\r\n          <NowTime/>\r\n          <SearchBox/>\r\n          <AccountList/>\r\n        </>\r\n      )}\r\n\r\n      {appStore.appRoute === AppRoute.AddOrEdit && (\r\n        <>\r\n          <AddForm/>\r\n        </>\r\n      )}\r\n\r\n      {appStore.appRoute === AppRoute.Setting && (\r\n        <>\r\n          <SettingForm/>\r\n        </>\r\n      )}\r\n\r\n    </div>\r\n  )\r\n})\r\n","import React, { ReactNode } from 'react'\r\nimport { CoreStoreClazz } from './state'\r\n\r\nexport class ApiCenter {\r\n\r\n  constructor (store: CoreStoreClazz) {\r\n    store.api = this\r\n  }\r\n\r\n  notify (notify: { msg: ReactNode, time?: number }) {\r\n    console.log('通知提醒')\r\n  }\r\n}\r\n\r\nexport const createApi = (store: CoreStoreClazz) => {\r\n  new ApiCenter(store)\r\n}\r\n\r\n","import React, { useEffect } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { AppStore, CoreStore, createAdapter, createAppStore, createStore } from './state'\r\nimport { Main } from './pages/Main'\r\nimport { initializeIcons } from 'office-ui-fabric-react'\r\nimport * as ls from 'store'\r\nimport * as _ from 'lodash'\r\nimport { createApi } from './ApiCenter'\r\n\r\nconst lsStoreKey = 'tfa_manager'\r\n\r\nconst lsGet = (key: string, defaultValues: any): any => {\r\n  const lsRootStore = ls.get(lsStoreKey, {})\r\n  const field = lsRootStore[key]\r\n  if (field === undefined) {\r\n    return defaultValues\r\n  } else {\r\n    return field\r\n  }\r\n}\r\n\r\nconst lsSet = (key: string, val: any): any => {\r\n  const lsRootStore = ls.get(lsStoreKey, {})\r\n  lsRootStore[key] = val\r\n  ls.set(lsStoreKey, lsRootStore)\r\n}\r\n\r\nconst getAccounts = () => {\r\n  return lsGet('accounts', [])\r\n}\r\n\r\nconst saveAccounts = (accounts) => {\r\n  lsSet('accounts', accounts)\r\n}\r\n\r\nconst ss = createStore(createAdapter({\r\n  getInitialList: () => getAccounts(),\r\n\r\n  addItem: (item) => {\r\n    const accounts = getAccounts()\r\n    accounts.push(item)\r\n    saveAccounts(accounts)\r\n  },\r\n\r\n  updateItem: (item) => {\r\n    const accounts = getAccounts()\r\n    const account = _.find(accounts, {secret: item.secret})\r\n    Object.assign(account, item)\r\n    saveAccounts(accounts)\r\n  },\r\n\r\n  removeItem: (item) => {\r\n    const accounts = getAccounts()\r\n    _.remove(accounts, {secret: item.secret})\r\n    saveAccounts(accounts)\r\n  },\r\n\r\n  getInitialDeltaTime: () => {\r\n    return lsGet('deltaTime', 0)\r\n  },\r\n  saveDeltaTime: (deltaTime) => {\r\n    lsSet('deltaTime', deltaTime)\r\n  }\r\n\r\n}))\r\n\r\n// ss.addItem({secret: 'LHGKZFPXUS5ZJONQ', remark: 'aaaaaaaaaaaaaa'})\r\n// ss.addItem({secret: 'LHGKZFPXUS5ZJONK', remark: 'aaaaaaaabbbbb'})\r\n\r\n// for (let i = 0; i < 0; i++) {\r\n//   const secret = `LHGKZFPXUS5Z${i}`\r\n//   ss.addItem({secret, remark: secret})\r\n// }\r\n\r\nconst appss = createAppStore(ss)\r\n\r\ncreateApi(ss)\r\n\r\ninitializeIcons()\r\n\r\nexport const App = observer(() => {\r\n\r\n  useEffect(() => {\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <CoreStore.Provider value={ss}>\r\n      <AppStore.Provider value={appss}>\r\n        <div className={'app'}>\r\n          <Main/>\r\n        </div>\r\n      </AppStore.Provider>\r\n    </CoreStore.Provider>\r\n\r\n  )\r\n})\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.scss'\r\nimport { App } from './app'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register()\r\n\r\n\r\n","'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\n/*\r\n *  @module   : BASE32 module to generate the random b32 key\r\n *              and decode the secret.\r\n *  @author   : Gin (gin.lance.inside@hotmail.com)\r\n */\r\n\r\nvar nibbler = require('./nibbler/nibbler');\r\n\r\nvar Base32 = exports.Base32 = function () {\r\n  function Base32() {\r\n    _classCallCheck(this, Base32);\r\n  }\r\n\r\n  _createClass(Base32, null, [{\r\n    key: 'decode',\r\n\r\n    /* ＊\r\n       * Base32 decode function\r\n       *\r\n       * @param {secret}\r\n       * @type {String}\r\n       * @desc input string\r\n       *\r\n       * @return {String}\r\n       */\r\n    value: function decode(secret) {\r\n      return nibbler.b32decode(secret);\r\n    }\r\n\r\n    /* ＊\r\n       * Base32 generate random b32 encoded string function\r\n       *\r\n       * @param {length}\r\n       * @type {int}\r\n       * @desc the length of random b32 encoded string\r\n       *\r\n       * @return {String}\r\n       */\r\n\r\n  }, {\r\n    key: 'random_gen',\r\n    value: function random_gen() {\r\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16;\r\n\r\n      var random_str = Math.random().toString(36);\r\n      random_str = nibbler.b32encode(random_str);\r\n\r\n      return random_str.substring(0, length);\r\n    }\r\n  }]);\r\n\r\n  return Base32;\r\n}();"],"sourceRoot":""}