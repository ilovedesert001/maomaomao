{"version":3,"sources":["libs/jsotp/lib/util.js","libs/jsotp/lib/otp.js","libs/jsotp/lib/jsotp.js","libs/jsotp/lib/totp.js","libs/jsotp/lib/nibbler/nibbler.js","libs/jsotp/lib/hotp.js","app/state.tsx","app/Util.tsx","app/components/Account.tsx","app/components/AccountList.tsx","app/components/SearchBox.tsx","app/components/AddForm.tsx","app/components/AppHeader.tsx","app/components/NowTime.tsx","app/components/SettingForm.tsx","app/pages/Main.tsx","app/ApiCenter.tsx","app/index.tsx","serviceWorker.js","index.js","libs/jsotp/lib/base32.js"],"names":["Object","defineProperty","exports","value","Util","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_base","require","instance","TypeError","_classCallCheck","this","num","n","numTmp","len","toString","arr","arrTmp","splice","diff","unshift","String","fromCharCode","secret","Base32","decode","toUpperCase","input","padding","arguments","inputTmp","result","push","reverse","arr_rjust","join","time","interval","timeStr","Date","parse","formatTime","substring","parseInt","OTP","_util","jsSHA","digits","digest","hmacObj","setHMACKey","byte_secret","update","int_to_bytestring","hmac_a","getHMAC","split","offset","charCodeAt","str_code","Math","pow","rjust","issuer","type","TOTP","HOTP","_totp","_hotp","_len","args","Array","_key","Function","bind","apply","concat","_get","get","object","property","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","call","_otp","_OTP","getNow","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","subClass","superClass","create","constructor","setPrototypeOf","_inherits","now","timecode","otp","otp_time","Nibbler","options","construct","translate","encode","pad","dataBits","codeBits","keyString","arrayData","mask","group","max","gcd","mag","prev","a","b","t","bitsIn","bitsOut","decoding","write","chr","byteIn","buffer","size","output","charAt","indexOf","Base64","b32encode","b32decode","b64encode","b64decode","count","counter","otp_count","at","AppRoute","createAdapter","configs","onNotify","payload","console","log","getInitialList","addItem","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","next","stop","removeItem","_callee2","_context2","updateItem","_callee3","_context3","getInitialDeltaTime","_callee4","_context4","abrupt","saveDeltaTime","_callee5","_context5","CoreStoreClazz","_class","adapter","classCallCheck","api","initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","addSeconds","deltaTime","window","timeDelta","ss","store","createClass","searchText","itemSet","Set","accountList","forEach","account","includes","add","remark","toConsumableArray","_","item","assign","findItems","applyDecoratedDescriptor","observable","initializer","name","test","computed","action","_this2","CoreStore","React","createContext","useStore","useContext","AppStoreClazz","coreStore","_descriptor6","_descriptor7","w","appss","appstore","Main","isEdit","AppStore","useApp","TOTPs","getTfaCode","totp","Account","observer","appStore","getLeftTime","nowSecond","getSeconds","_useSetState","useSetState","leftTime","code","_useSetState2","slicedToArray","state","setState","useEffect","timer","setInterval","clearInterval","copyCode","copy","notify","msg","progress","noTimeToDo","react_default","createElement","className","onClick","IconButton","iconProps","iconName","appRoute","AddOrEdit","addForm","ProgressIndicator","percentComplete","AccountList","mainPageAccounts","map","Account_Account","SearchBox","SearchBox_SearchBox","placeholder","onChange","AddForm","_appStore$addForm","err_secret","err_remark","TextField","label","required","disabled","e","errorMessage","multiline","rows","PrimaryButton","text","trim","AppHeader","CommandBar","items","farItems","Setting","iconOnly","NowTime","systemTime","usedTime","format","DatePicker","date","dateEl","useRef","timeEl","ins","currentDate","current","getTime","ref","useHookRef","hookRef","SettingForm","_useSetState3","timePickerVisible","_useSetState4","datePicker","NowTime_NowTime","Fragment","SettingForm_DatePicker","visible","deltaSecond","differenceInSeconds","xxx","fileReader","ToastContainer","FileReader","onload","event","png","err","pngData","pixelArray","data","Uint8ClampedArray","width","height","y","x","pixelData","getPixel","convertPNGtoByteArray","jsQR","notification","Notification","newInstance","getContainer","_ref","_ref$msg","_ref$time","notice","duration","content","onClose","setTimeout","AppHeader_AppHeader","components_SearchBox_SearchBox","AccountList_AccountList","AddForm_AddForm","SettingForm_SettingForm","ApiCenter","lsGet","defaultValues","field","ls","lsSet","val","lsRootStore","getAccounts","saveAccounts","accounts","createStore","createAppStore","initializeIcons","App","Provider","Main_Main","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker","nibbler","random_str","random"],"mappings":"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","file":"static/js/main.4f7835ae.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Util = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  @module   : Util module to process the datas.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *  @author   : Gin (gin.lance.inside@hotmail.com)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nvar _base = require('./base32');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Util = exports.Util = function () {\n  function Util() {\n    _classCallCheck(this, Util);\n  }\n\n  _createClass(Util, null, [{\n    key: 'rjust',\n\n    /* ＊\n       * Util rjust number with 0\n       *\n       * @param {num}\n       * @type {int}\n       * @desc input number\n       *\n       * @param {n}\n       * @type {int}\n       * @desc wanted length\n       *\n       * @return {String}\n       */\n    value: function rjust(num, n) {\n      var numTmp = num;\n      var len = numTmp.toString().length;\n\n      while (len < n) {\n        numTmp = '0' + numTmp;\n        len += 1;\n      }\n\n      return numTmp;\n    }\n\n    /* ＊\n       * Util rjust array with \"\"\n       *\n       * @param {arr}\n       * @type {Array}\n       * @desc input array\n       *\n       * @param {n}\n       * @type {int}\n       * @desc wanted length\n       *\n       * @return {BYTES}\n       */\n\n  }, {\n    key: 'arr_rjust',\n    value: function arr_rjust(arr, n) {\n      var arrTmp = arr;\n      if (n <= arrTmp.length) {\n        arrTmp = arrTmp.splice(arrTmp.length - 1 - n);\n        return arrTmp;\n      }\n      var diff = n - arrTmp.length;\n      for (var i = 0; i < diff; i += 1) {\n        arrTmp.unshift(String.fromCharCode(0));\n      }\n      return arrTmp;\n    }\n\n    /* ＊\n       * Base32 decode the init secret\n       *\n       * @param {secret}\n       * @type {String}\n       * @desc input param, the init secret\n       *\n       * @return {String}\n       */\n\n  }, {\n    key: 'byte_secret',\n    value: function byte_secret(secret) {\n      return _base.Base32.decode(secret.toUpperCase());\n    }\n\n    /* ＊\n       * transfer the int type to BYTES type\n       *\n       * @param {input}\n       * @type {int}\n       * @desc input param, maybe counter or time\n       *\n       * @return {BYTES}\n       */\n\n  }, {\n    key: 'int_to_bytestring',\n    value: function int_to_bytestring(input) {\n      var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n\n      var inputTmp = input;\n      var result = [];\n\n      while (inputTmp !== 0) {\n        result.push(String.fromCharCode(inputTmp & 0xFF));\n        inputTmp >>= 8;\n      }\n\n      result = result.reverse();\n      result = Util.arr_rjust(result, padding).join('');\n\n      return result;\n    }\n\n    /* ＊\n       * format the time string to int\n       *\n       * @param {time}\n       * @type {Date}\n       * @desc the time need to be format\n       *\n       * @param {interval}\n       * @type {Int}\n       * @desc interval means the one-time password's life,\n       * default to be 30.\n       *\n       * @return {Int}\n       */\n\n  }, {\n    key: 'timecode',\n    value: function timecode(time, interval) {\n      var timeStr = Date.parse(time).toString();\n\n      // fotmat the time, the ms is not needed.\n      var formatTime = timeStr.substring(0, timeStr.length - 3);\n\n      return parseInt(parseInt(formatTime) / interval);\n    }\n  }]);\n\n  return Util;\n}();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OTP = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _base = require('./base32');\n\nvar _util = require('./util');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n *  @module   : OTP module to generate the password\n *  @author   : Gin (gin.lance.inside@hotmail.com)\n */\nvar jsSHA = require('jssha');\n\nvar OTP = exports.OTP = function () {\n  /* ＊\n     * This constructor will create OTP instance.\n     *\n     * @param {secret}\n     * @type {String}\n     * @desc random base32-encoded key, it is the\n     * key that be used to verify.\n     *\n     * @param {digits}\n     * @type {int}\n     * @desc the length of the one-time password, default to be 6\n     *\n     * @param {digest}\n     * @type {String}\n     * @desc the key that be used to do HMAC encoding, dedault and\n     * only to be \"sha1\"\n     *\n     */\n  function OTP(secret) {\n    var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n    var digest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'SHA-1';\n\n    _classCallCheck(this, OTP);\n\n    this.secret = secret;\n    this.digits = digits;\n    this.digest = digest;\n  }\n\n  /* ＊\n     * When class HOTP or TOTP pass the input params to this\n     * function, it will generate the OTP object with params,\n     * the params may be counter or time.\n     *\n     * @param {input}\n     * @type {int}\n     * @desc input params to generate OTP object, maybe\n     * counter or time.\n     *\n     * @return {OTP}\n     */\n\n\n  _createClass(OTP, [{\n    key: 'generate_otp',\n    value: function generate_otp(input) {\n      // generate HMAC object with SHA-1 digest\n      var hmacObj = new jsSHA(this.digest, 'BYTES');\n      // set hmac token\n      hmacObj.setHMACKey(_util.Util.byte_secret(this.secret), 'BYTES');\n      // hamc encode the input param\n      hmacObj.update(_util.Util.int_to_bytestring(input));\n\n      // get HMAC ans\n      var hmac = hmacObj.getHMAC('BYTES');\n\n      // transfer hmac to Array\n      var hmac_a = hmac.split('');\n\n      // calculate the init offset\n      var offset = hmac_a[hmac_a.length - 1].charCodeAt() & 0xf;\n\n      // calculate the code\n      var code = (hmac_a[offset].charCodeAt() & 0x7f) << 24 | (hmac_a[offset + 1].charCodeAt() & 0xff) << 16 | (hmac_a[offset + 2].charCodeAt() & 0xff) << 8 | hmac_a[offset + 3].charCodeAt() & 0xff;\n\n      // get the init str code\n      var str_code = (code % Math.pow(10, this.digits)).toString();\n\n      // rjust format\n      str_code = _util.Util.rjust(str_code, this.digits);\n\n      return str_code;\n    }\n\n    /* ＊\n       * Generate a url with TOTP or HOTP instance.\n       *\n       * @param {issuer}\n       * @type {String}\n       * @desc maybe it is the Service name\n       *\n       * @param {type}\n       * @type {String}\n       * @desc type of OTP instance\n       *\n       * @return {String}\n       */\n\n  }, {\n    key: 'url_gen',\n    value: function url_gen(issuer, type) {\n      return 'otpauth://' + type + '/SK?secret=' + this.secret + '&issuer=' + issuer;\n    }\n  }]);\n\n  return OTP;\n}();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Util = exports.Base32 = exports.TOTP = exports.HOTP = undefined;\n\nvar _totp = require('./totp');\n\nvar _hotp = require('./hotp');\n\nvar _base = require('./base32');\n\nvar _util = require('./util');\n\n/* ＊\n * Generate and return HOTP object\n *\n * @param {secret}\n * @type {String}\n * @desc random base32-encoded key to generate OTP.\n *\n * @return {OTP}\n */\n/*\n *  @project  : jsotp\n *  @author   : Gin (gin.lance.inside@hotmail.com)\n *  @link     : https://github.com/LanceGin/jsotp\n *  @Disc     : a node module to generate and verify one-time passwords\n */\n\nfunction hotp_gen(secret) {\n  var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n  var digest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'SHA-1';\n\n  var hotp = new _hotp.HOTP(secret, digits, digest);\n  return hotp;\n}\n\n/* ＊\n * Generate and return TOTP object\n *\n * @param {secret}\n * @type {String}\n * @desc random base32-encoded key to generate OTP.\n *\n * @param {interval}\n * @type {int}\n * @desc the time interval in seconds for OTP.\n * This defaults to 30.\n *\n * @return {OTP}\n */\nfunction totp_gen() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var totp = new (Function.prototype.bind.apply(_totp.TOTP, [null].concat(args)))();\n  return totp;\n}\n\nexports.HOTP = hotp_gen;\nexports.TOTP = totp_gen;\nexports.Base32 = _base.Base32;\nexports.Util = _util.Util;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TOTP = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _otp = require('./otp');\n\nvar _util = require('./util');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @module   : TOTP module to generate and verify TOTP password\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @author   : Gin (gin.lance.inside@hotmail.com)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar TOTP = exports.TOTP = function (_OTP) {\n  _inherits(TOTP, _OTP);\n\n  /* ＊\n     * @param {secret}\n     * @type {String}\n     * @desc random base32-encoded key to generate OTP.\n     *\n     * @param {interval}\n     * @type {int}\n     * @desc the time interval in seconds for OTP.\n     * This defaults to 30.\n     *\n     * @return {OTP}\n     */\n  function TOTP(secret, interval) {\n    var getNow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {\n      return new Date();\n    };\n\n    _classCallCheck(this, TOTP);\n\n    var _this = _possibleConstructorReturn(this, (TOTP.__proto__ || Object.getPrototypeOf(TOTP)).call(this, secret));\n\n    _this.interval = interval || 30;\n    _this.getNow = getNow;\n    return _this;\n  }\n\n  /* ＊\n     * Generate the OTP with current time.\n     *\n     * @return {OTP}\n     *\n     * @example\n     * ```javascript\n     * let totp = jsotp.TOTP('BASE32ENCODEDSECRET');\n     * totp.now(); // => 432143\n     * ```\n     */\n\n\n  _createClass(TOTP, [{\n    key: 'now',\n    value: function now() {\n      // get now time string\n      var now = _util.Util.timecode(this.getNow(), this.interval);\n\n      // generate the one-time password\n      var digit = _get(TOTP.prototype.__proto__ || Object.getPrototypeOf(TOTP.prototype), 'generate_otp', this).call(this, now);\n      return digit;\n    }\n\n    /* ＊\n       * Verifies the OTP passed in against the current time OTP.\n       *\n       * @param {otp}\n       * @type {String}\n       * @desc the OTP waiting for checking\n       *\n       * @param {time}\n       * @type {int or datetime}\n       * @desc Time to check OTP at (defaults to now)\n       *\n       * @return {Boolean}\n       *\n       * @example\n       * ```javascript\n       * let totp = jsotp.TOTP('BASE32ENCODEDSECRET');\n       * totp.now(); // => 432143\n       * // Verify for current time\n       * totp.verify(432143); // => true\n       * // Verify after 30s\n       * totp.verify(432143); // => false\n       * ```\n       */\n\n  }, {\n    key: 'verify',\n    value: function verify(otp) {\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var otp_time = void 0;\n\n      if (time == null) {\n        time = this.getNow();\n      }\n      otp_time = _get(TOTP.prototype.__proto__ || Object.getPrototypeOf(TOTP.prototype), 'generate_otp', this).call(this, _util.Util.timecode(time, this.interval));\n\n      if (typeof otp === 'number') {\n        otp = otp.toString();\n      }\n\n      if (otp === otp_time) {\n        return true;\n      }\n      return false;\n    }\n\n    /* ＊\n       * Generate a url with TOTP instance.\n       *\n       * @param {issuer}\n       * @type {String}\n       * @desc maybe it is the Service name\n       *\n       * @return {String}\n       */\n\n  }, {\n    key: 'url_gen',\n    value: function url_gen() {\n      var issuer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      return _get(TOTP.prototype.__proto__ || Object.getPrototypeOf(TOTP.prototype), 'url_gen', this).call(this, issuer, 'totp');\n    }\n  }]);\n\n  return TOTP;\n}(_otp.OTP);","'use strict';\n\n/*\nAdapted for Node.js by Matt Robenolt\nReference: http://www.tumuski.com/2010/04/nibbler/\n*/\n\nvar Nibbler = function Nibbler(options) {\n  var construct = void 0,\n\n\n  // options\n  pad = void 0,\n      dataBits = void 0,\n      codeBits = void 0,\n      keyString = void 0,\n      arrayData = void 0,\n\n\n  // private instance variables\n  mask = void 0,\n      group = void 0,\n      max = void 0,\n\n\n  // private methods\n  gcd = void 0,\n      translate = void 0,\n\n\n  // public methods\n  encode = void 0,\n      decode = void 0;\n\n  // pseudo-constructor\n  construct = function construct() {\n    var i = void 0,\n        mag = void 0,\n        prev = void 0;\n\n    // options\n    pad = options.pad || '';\n    dataBits = options.dataBits;\n    codeBits = options.codeBits;\n    keyString = options.keyString;\n    arrayData = options.arrayData;\n\n    // bitmasks\n    mag = Math.max(dataBits, codeBits);\n    prev = 0;\n    mask = [];\n    for (i = 0; i < mag; i += 1) {\n      mask.push(prev);\n      prev += prev + 1;\n    }\n    max = prev;\n\n    // ouput code characters in multiples of this number\n    group = dataBits / gcd(dataBits, codeBits);\n  };\n\n  // greatest common divisor\n  gcd = function gcd(a, b) {\n    var t = void 0;\n    while (b !== 0) {\n      t = b;\n      b = a % b;\n      a = t;\n    }\n    return a;\n  };\n\n  // the re-coder\n  translate = function translate(input, bitsIn, bitsOut, decoding) {\n    var i = void 0,\n        len = void 0,\n        chr = void 0,\n        byteIn = void 0,\n        buffer = void 0,\n        size = void 0,\n        output = void 0,\n        write = void 0;\n\n    // append a byte to the output\n    write = function write(n) {\n      if (!decoding) {\n        output.push(keyString.charAt(n));\n      } else if (arrayData) {\n        output.push(n);\n      } else {\n        output.push(String.fromCharCode(n));\n      }\n    };\n\n    buffer = 0;\n    size = 0;\n    output = [];\n\n    len = input.length;\n    for (i = 0; i < len; i += 1) {\n      // the new size the buffer will be after adding these bits\n      size += bitsIn;\n\n      // read a character\n      if (decoding) {\n        // decode it\n        chr = input.charAt(i);\n        byteIn = keyString.indexOf(chr);\n        if (chr === pad) {\n          break;\n        } else if (byteIn < 0) {\n          throw 'the character \"' + chr + '\" is not a member of ' + keyString;\n        }\n      } else {\n        if (arrayData) {\n          byteIn = input[i];\n        } else {\n          byteIn = input.charCodeAt(i);\n        }\n        if ((byteIn | max) !== max) {\n          throw byteIn + ' is outside the range 0-' + max;\n        }\n      }\n\n      // shift the buffer to the left and add the new bits\n      buffer = buffer << bitsIn | byteIn;\n\n      // as long as there's enough in the buffer for another output...\n      while (size >= bitsOut) {\n        // the new size the buffer will be after an output\n        size -= bitsOut;\n\n        // output the part that lies to the left of that number of bits\n        // by shifting the them to the right\n        write(buffer >> size);\n\n        // remove the bits we wrote from the buffer\n        // by applying a mask with the new size\n        buffer &= mask[size];\n      }\n    }\n\n    // If we're encoding and there's input left over, pad the output.\n    // Otherwise, leave the extra bits off, 'cause they themselves are padding\n    if (!decoding && size > 0) {\n      // flush the buffer\n      write(buffer << bitsOut - size);\n\n      // add padding keyString for the remainder of the group\n      len = output.length % group;\n      for (i = 0; i < len; i += 1) {\n        output.push(pad);\n      }\n    }\n\n    // string!\n    return arrayData && decoding ? output : output.join('');\n  };\n\n  /**\n     * Encode.  Input and output are strings.\n     */\n  encode = function encode(input) {\n    return translate(input, dataBits, codeBits, false);\n  };\n\n  /**\n     * Decode.  Input and output are strings.\n     */\n  decode = function decode(input) {\n    return translate(input, codeBits, dataBits, true);\n  };\n\n  this.encode = encode;\n  this.decode = decode;\n  construct();\n};\n\nvar Base32 = new Nibbler({\n  dataBits: 8,\n  codeBits: 5,\n  keyString: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  pad: '='\n});\nvar Base64 = new Nibbler({\n  dataBits: 8,\n  codeBits: 6,\n  keyString: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  pad: '='\n});\n\nexports.Nibbler = Nibbler;\nexports.b32encode = Base32.encode;\nexports.b32decode = Base32.decode;\nexports.b64encode = Base64.encode;\nexports.b64decode = Base64.decode;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HOTP = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _otp = require('./otp');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @module   : HOTP module to generate and verify HOTP password\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *  @author   : Gin (gin.lance.inside@hotmail.com)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar HOTP = exports.HOTP = function (_OTP) {\n  _inherits(HOTP, _OTP);\n\n  function HOTP() {\n    _classCallCheck(this, HOTP);\n\n    return _possibleConstructorReturn(this, (HOTP.__proto__ || Object.getPrototypeOf(HOTP)).apply(this, arguments));\n  }\n\n  _createClass(HOTP, [{\n    key: 'at',\n\n    /* ＊\n       * Generate the OTP with the given count\n       *\n       * @param {count}\n       * @type {int}\n       * @desc the OTP HMAC counter\n       *\n       * @return {OTP}\n       *\n       * @example\n       * ```javascript\n       * let hotp = jsotp.HOTP('BASE32_ENCODED_SECRET');\n       * hotp.at(0); // => 432143\n       * ```\n       */\n    value: function at(count) {\n      var digit = _get(HOTP.prototype.__proto__ || Object.getPrototypeOf(HOTP.prototype), 'generate_otp', this).call(this, count);\n      return digit;\n    }\n\n    /* ＊\n       * Verifies the OTP passed in against the current counter.\n       *\n       * @param {otp}\n       * @type {String}\n       * @desc the OTP waiting for checking\n       *\n       * @param {counter}\n       * @type {int}\n       * @desc the OTP HMAC counter\n       *\n       * @return {Boolean}\n       *\n       * @example\n       * ```javascript\n       * let hotp = jsotp.HOTP('BASE32_ENCODED_SECRET');\n       * hotp.at(0); // => 432143\n       * hotp.verify(432143, 0); // => true\n       * hotp.verify(432143, 1); // => false\n       * ```\n       */\n\n  }, {\n    key: 'verify',\n    value: function verify(otp, counter) {\n      var otp_count = this.at(counter);\n\n      if (typeof otp === 'number') {\n        otp = otp.toString();\n      }\n\n      if (otp === otp_count) {\n        return true;\n      }\n      return false;\n    }\n\n    /* ＊\n       * Generate a url with HOTP instance.\n       *\n       * @param {issuer}\n       * @type {String}\n       * @desc maybe it is the Service name\n       *\n       * @return {String}\n       */\n\n  }, {\n    key: 'url_gen',\n    value: function url_gen() {\n      var issuer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      return _get(HOTP.prototype.__proto__ || Object.getPrototypeOf(HOTP.prototype), 'url_gen', this).call(this, issuer, 'hotp');\n    }\n  }]);\n\n  return HOTP;\n}(_otp.OTP);","import { action, computed, observable } from 'mobx'\nimport * as _ from 'lodash'\nimport React, { useContext } from 'react'\nimport { ApiCenter } from './ApiCenter'\nimport { addSeconds } from 'date-fns'\n\n//其他平台上，以适配器的方式相应\n\ninterface AdapterConfigs {\n  onNotify?: (any) => any\n  getInitialList?: () => Array<AccountItem>\n  addItem?: (item: AccountItem) => any\n  removeItem?: (item: AccountItem) => any\n  updateItem?: (item: AccountItem) => any\n  getInitialDeltaTime?: () => any\n  saveDeltaTime?: (timeDelta: number) => any\n}\n\nexport const createAdapter = (configs: AdapterConfigs) => {\n\n  const adapter: AdapterConfigs = {\n\n    onNotify: configs.onNotify || ((payload) => {\n      console.log(payload)\n    }),\n\n    getInitialList: configs.getInitialList || (() => {\n      return []\n    }),\n\n    addItem: configs.addItem || (async () => {\n      console.log('例如可以写进到localstorge 中')\n    }),\n\n    removeItem: configs.removeItem || (async () => {\n      console.log('从localstorge 中删除')\n    }),\n\n    updateItem: configs.updateItem || (async () => {\n      console.log('uuupdate')\n    }),\n\n    getInitialDeltaTime: configs.getInitialDeltaTime || (async () => {\n      return 0\n    }),\n\n    saveDeltaTime: configs.saveDeltaTime || (async () => {\n      console.log('uuupdate')\n    }),\n\n  }\n\n  return adapter\n}\n\n//骨架作为核心 通用\n\nexport type AccountItem = {\n  secret: string,\n  remark: string,\n}\n\nexport class CoreStoreClazz {\n  adapter: AdapterConfigs\n  api: ApiCenter\n\n  constructor (adapter) {\n    this.adapter = adapter\n    this.deltaTime = this.adapter.getInitialDeltaTime()\n    if (typeof window !== 'undefined') {\n\n      // window.timeDelta = 1000 * 20\n      window.timeDelta = 0\n\n      window.ss = window.store = this\n\n    }\n  }\n\n  @observable appConfig = {\n    name: 'tfa 管理器',\n    test: 'aaaa',\n  }\n  @observable accountList = this.adapter.getInitialList() as Array<AccountItem>\n\n  @observable searchText = ''\n\n  @computed get mainPageAccounts () {\n    const searchText = _.trim(this.searchText)\n    if (searchText === '') {\n      return this.accountList\n    } else {\n      return this.findItems(searchText)\n    }\n  }\n\n  @action findItems (searchText): Array<AccountItem> {\n    const itemSet = new Set()\n    this.accountList.forEach((account) => {\n      account.secret.includes(searchText) && itemSet.add(account)\n      account.remark.includes(searchText) && itemSet.add(account)\n    })\n    return [...itemSet as any]\n  }\n\n  @action addItem (account: AccountItem) {\n    if (_.find(this.accountList, {secret: account.secret})) {\n      this.adapter.onNotify(account)\n    } else {\n      this.accountList.push(account)\n      this.adapter.addItem(account)\n    }\n  }\n\n  @action removeItem (secret: AccountItem['secret']) {\n    const item: AccountItem = _.find(this.accountList, {secret})\n    if (item) {\n      _.remove(this.accountList, item)\n      this.adapter.removeItem(item)\n    }\n\n  }\n\n  @action updateItem (account: AccountItem) {\n    const item: AccountItem = _.find(this.accountList, {secret: account.secret})\n    if (item) {\n      Object.assign(item, {\n        remark: account.remark,\n      })\n      this.adapter.updateItem(item)\n    }\n  }\n\n  @observable deltaTime = 0\n  @action saveDeltaTime = (deltaTime: number) => {\n    this.deltaTime = deltaTime\n    this.adapter.saveDeltaTime(deltaTime)\n  }\n\n  getNow = () => {\n    const now = new Date()\n    const usedTime = addSeconds(now, this.deltaTime)\n    return usedTime\n  }\n\n}\n\nexport const createStore = (adapter = createAdapter({})) => {\n\n  const store = new CoreStoreClazz(adapter)\n  return store\n}\nexport const CoreStore = React.createContext(null)\nexport const useStore = () => useContext(CoreStore) as CoreStoreClazz\n\n//app 自己的状态\n\nexport enum AppRoute {\n  Main,\n  AddOrEdit,\n  Setting,\n}\n\nclass AppStoreClazz {\n\n  coreStore: CoreStoreClazz\n\n  constructor (coreStore: CoreStoreClazz) {\n    this.coreStore = coreStore\n    if (typeof window !== 'undefined') {\n      const w: any = window\n      w.appss = w.appstore = this\n    }\n  }\n\n  @observable appRoute = AppRoute.Main\n  @observable addForm = {\n    isEdit: false,//edit , create\n    secret: '',\n    remark: '',\n  }\n\n}\n\nexport const createAppStore = (CoreStore: CoreStoreClazz) => {\n  const store = new AppStoreClazz(CoreStore)\n  return store\n}\nexport const AppStore = React.createContext(null)\nexport const useApp = () => useContext(AppStore) as AppStoreClazz\n\n\n","import { useEffect } from 'react'\nimport { TOTP } from '../libs/jsotp/lib/jsotp'\nimport { CoreStoreClazz } from './state'\n\nconst TOTPs = {}\nexport const getTfaCode = (secret, store: CoreStoreClazz) => {\n  let totp = TOTPs[secret]\n  if (!totp) {\n    totp = TOTP(secret, 30, store.getNow)\n    TOTPs[secret] = totp\n  }\n  return totp.now()\n}\n\n/**\n //由于 hook 组件，不会有ref ， 所以产生了这个\n\n\n\n */\nexport const useHookRef = (ref, ins) => {\n  useEffect(() => {\n    ref && (ref.current = ins.current)\n  }, [])\n}\n","import { observer } from 'mobx-react-lite'\nimport { AccountItem, AppRoute, useApp, useStore } from '../state'\nimport React, { useEffect } from 'react'\nimport { getTfaCode } from '../Util'\nimport getSeconds from 'date-fns/get_seconds'\nimport { IconButton, ProgressIndicator } from 'office-ui-fabric-react'\nimport copy from 'clipboard-copy'\nimport { useSetState } from 'react-use'\n\nconst timeDelta = 30\n\nexport const Account = observer(function Account (props: { account: AccountItem }) {\n  const store = useStore()\n  const appStore = useApp()\n\n  const {account} = props\n\n  const getLeftTime = () => {\n    let nowSecond = getSeconds(store.getNow())\n    if (nowSecond > timeDelta) {\n      nowSecond -= timeDelta\n    }\n    return nowSecond\n  }\n\n  const [state, setState] = useSetState({\n    leftTime: getLeftTime(),\n    code: getTfaCode(account.secret, store),\n  })\n\n  useEffect(() => {\n    const timer = window.setInterval(() => {\n      setState({\n        leftTime: getLeftTime(),\n        code: getTfaCode(account.secret, store),\n      })\n    }, 1000)\n\n    return () => {\n      window.clearInterval(timer)\n    }\n  }, [])\n\n  const copyCode = () => {\n    copy(state.code)\n    store.api.notify({msg: '已复制到剪贴板'})\n  }\n\n  const progress = state.leftTime / timeDelta\n  let noTimeToDo = false\n  if (progress > 0.88) {\n    noTimeToDo = true\n  }\n\n  return (\n    <div className={`Account ${noTimeToDo ? 'noTimeToDo' : ' '}`}>\n      <div className={'Account-panel'}>\n        <div className={'code-row'}>\n          <div\n            className={'ms-font-su ms-fontWeight-semibold tfa-code ms-fadeIn100'}\n            onClick={copyCode}\n          >\n            {state.code}\n          </div>\n          <div className={'action-btns'}>\n            <IconButton\n              iconProps={{iconName: 'Copy'}}\n              onClick={copyCode}\n            />\n            <IconButton\n              iconProps={{iconName: 'PageEdit'}}\n              onClick={() => {\n                appStore.appRoute = AppRoute.AddOrEdit\n                appStore.addForm.isEdit = true\n                appStore.addForm.secret = account.secret\n                appStore.addForm.remark = account.remark\n              }}\n            />\n\n            <IconButton\n              iconProps={{iconName: 'PageRemove'}}\n              onClick={() => {\n                store.removeItem(account.secret)\n              }}\n            />\n          </div>\n        </div>\n        <div>\n          <div className={'ms-font-m'}>\n            <pre>{account.remark}</pre>\n          </div>\n        </div>\n        <ProgressIndicator percentComplete={progress}/>\n      </div>\n    </div>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport { useStore } from '../state'\nimport React from 'react'\nimport { Account } from './Account'\n\nexport const AccountList = observer(function AccountList () {\n  const store = useStore()\n  const {mainPageAccounts} = store\n  return (\n    <div className={'AccountList'}>\n      {mainPageAccounts.map((account) => <Account key={account.secret} account={account}/>)}\n    </div>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport { useStore } from '../state'\nimport React from 'react'\nimport { SearchBox as FabricSearchBox } from 'office-ui-fabric-react/lib/SearchBox'\n\nexport const SearchBox = observer(function SearchBox () {\n  const store = useStore()\n  return (\n    <div className={'SearchBox'}>\n      <FabricSearchBox\n        iconProps={{iconName: 'Filter'}}\n        placeholder=\"Search\"\n        onChange={(searchText) => {\n          store.searchText = searchText\n        }}\n      />\n    </div>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport { AppRoute, useApp, useStore } from '../state'\nimport React from 'react'\nimport { PrimaryButton, TextField } from 'office-ui-fabric-react'\nimport { useSetState } from 'react-use'\n\nexport const AddForm = observer(function AddForm () {\n  const store = useStore()\n\n  const appStore = useApp()\n  const {secret, remark, isEdit} = appStore.addForm\n\n  const [state, setState] = useSetState({\n    err_secret: null as string,\n    err_remark: null as string,\n  })\n\n  return (\n    <div className={'AddForm'}>\n      <div>\n        <TextField\n          label=\"请输入秘钥\"\n          required={true}\n          disabled={isEdit}\n          value={secret}\n          onChange={(e: any) => {\n            appStore.addForm.secret = e.target.value\n          }}\n          errorMessage={state.err_secret}\n        />\n      </div>\n\n      <div>\n        <TextField\n          label=\"请输入其他信息\"\n          multiline\n          rows={3}\n          value={remark}\n          onChange={(e: any) => {\n            appStore.addForm.remark = e.target.value\n          }}\n          errorMessage={state.err_remark}\n        />\n      </div>\n\n      <div className={'addButton'}>\n        <PrimaryButton\n          text={isEdit ? '更新' : '添加'}\n          onClick={() => {\n            if (secret.trim() === '') {\n              setState({err_secret: '秘钥不能为空'})\n              return 0\n            }\n            if (remark.trim() === '') {\n              setState({err_remark: '备注不能为空'})\n              return 0\n            }\n\n            if (isEdit) {\n              store.updateItem(appStore.addForm)\n            } else {\n              store.addItem(appStore.addForm)\n            }\n            appStore.appRoute = AppRoute.Main\n          }}\n        />\n      </div>\n\n\n    </div>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport { AppRoute, useApp, useStore } from '../state'\nimport React from 'react'\nimport { CommandBar } from 'office-ui-fabric-react'\n\nexport const AppHeader = observer(function AppHeader () {\n  const store = useStore()\n\n  const appStore = useApp()\n\n  const getItems = () => {\n\n    if (appStore.appRoute === AppRoute.Main) {\n      return [\n        {\n          key: 'newItem',\n          // name: 'New',\n          iconProps: {\n            iconName: 'Add',\n          },\n          onClick: () => {\n            appStore.appRoute = AppRoute.AddOrEdit\n            appStore.addForm.isEdit = false\n            appStore.addForm.secret = ''\n            appStore.addForm.remark = ''\n          },\n        },\n\n        {\n          key: 'Download',\n          iconProps: {\n            iconName: 'Download',\n          },\n          disabled: true,\n        },\n        {\n          key: 'upload',\n          iconProps: {\n            iconName: 'Upload',\n          },\n          disabled: true,\n        },\n      ]\n    } else {\n      return [\n        {\n          key: 'NavigateBack',\n          iconProps: {\n            iconName: 'NavigateBack',\n          },\n          onClick: () => {\n            appStore.appRoute = AppRoute.Main\n          },\n        },\n      ]\n    }\n  }\n\n  const getFarItems = () => {\n\n    if (appStore.appRoute === AppRoute.Setting) {\n      return [\n        {\n          key: 'info',\n          name: 'Info',\n          iconProps: {\n            iconName: 'Info',\n          },\n          iconOnly: true,\n          onClick: () => console.log('Info'),\n        },\n      ]\n    } else {\n      return [\n        {\n          key: 'Settings',\n          iconProps: {\n            iconName: 'Settings',\n          },\n          onClick: () => {\n            appStore.appRoute = AppRoute.Setting\n          },\n        },\n\n        {\n          key: 'info',\n          name: 'Info',\n          iconProps: {\n            iconName: 'Info',\n          },\n          iconOnly: true,\n          onClick: () => console.log('Info'),\n        },\n      ]\n    }\n\n  }\n\n  return (\n    <div className={'AppHeader'}>\n      <CommandBar items={getItems()} farItems={getFarItems()}/>\n    </div>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport { useApp, useStore } from '../state'\nimport React, { useEffect } from 'react'\nimport { useSetState } from 'react-use'\nimport { format, addSeconds } from 'date-fns'\n\nexport const NowTime = observer(function NowTime () {\n  const store = useStore()\n\n  const [state, setState] = useSetState({\n    systemTime: new Date(),\n    usedTime: new Date(),\n  })\n\n  useEffect(() => {\n    const timer = window.setInterval(() => {\n      const now = new Date()\n      const usedTime = addSeconds(now, store.deltaTime)\n      setState({\n        systemTime: now,\n        usedTime,\n      })\n    }, 1000)\n\n    return () => {\n      window.clearInterval(timer)\n    }\n  })\n\n  return (\n    <div className={'NowTime'}>\n      <div>系统时间:{format(state.systemTime, 'YYYY-MM-DD HH:mm:ss')}</div>\n      <div>使用时间:{format(state.usedTime, 'YYYY-MM-DD HH:mm:ss')}</div>\n    </div>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport { useApp, useStore } from '../state'\nimport React, { useEffect, useRef } from 'react'\nimport { PrimaryButton } from 'office-ui-fabric-react'\nimport { NowTime } from './NowTime'\nimport { useSetState } from 'react-use'\nimport { useHookRef } from '../Util'\nimport { format, parse, differenceInSeconds } from 'date-fns'\n\nconst DatePicker = (props: { visible: boolean, hookRef? }) => {\n\n  const [state, setState] = useSetState({\n    date: '',\n    time: '',\n  })\n\n  const dateEl = useRef(null)\n  const timeEl = useRef(null)\n\n  const ins = useRef({\n    currentDate: null as number\n  })\n\n  useEffect(() => {\n    const now = new Date()\n    setState({\n      date: format(now, 'YYYY-MM-DD'),\n      time: format(now, 'HH:mm'),\n    })\n  }, [])\n\n  useEffect(() => {\n    if (state.date && state.time) {\n      ins.current.currentDate = parse(state.date + ' ' + state.time).getTime()\n    }\n  }, [state.date, state.time])\n\n  useHookRef(props.hookRef, ins)\n\n  return (\n    <div>\n      <input\n        type={'date'}\n        ref={dateEl}\n        value={state.date}\n        onChange={(e) => setState({date: e.target.value})}\n      />\n      <input\n        ref={timeEl}\n        type={'time'}\n        value={state.time}\n        onChange={(e) => setState({time: e.target.value})}\n      />\n    </div>\n  )\n}\n\nexport const SettingForm = observer(function SettingForm () {\n  const store = useStore()\n\n  const appStore = useApp()\n  const {secret, remark, isEdit} = appStore.addForm\n\n  const [state, setState] = useSetState({\n    timePickerVisible: false,\n  })\n\n  const datePicker = useRef(null)\n\n  return (\n    <div className={'SettingForm'}>\n\n      <div className={'time-now'}>\n        <NowTime/>\n      </div>\n\n\n      <div className={'sync-btn'}>\n        <PrimaryButton\n          iconProps={{iconName: 'Sync'}}\n        >\n          同步网络时间\n        </PrimaryButton>\n      </div>\n\n\n      <div className={'user-sync-btn'}>\n        <PrimaryButton\n          iconProps={{iconName: 'Timer'}}\n          onClick={() => {\n            setState({timePickerVisible: !state.timePickerVisible})\n          }}\n        >\n          手动设置时间\n        </PrimaryButton>\n        <div className={'time-set-div'}>\n          {state.timePickerVisible && (\n            <>\n              <DatePicker hookRef={datePicker} visible={state.timePickerVisible}/>\n              <PrimaryButton\n                iconProps={{iconName: 'SkypeCheck'}}\n                onClick={() => {\n                  console.log(datePicker.current)\n                  if (datePicker.current.currentDate) {\n                    const now = new Date()\n                    const deltaSecond = differenceInSeconds(datePicker.current.currentDate, now)\n                    store.saveDeltaTime(deltaSecond)\n                  }\n                  setState({timePickerVisible: false})\n                }}\n              >\n                确定使用此时间作为当前时间\n              </PrimaryButton>\n            </>\n          )}\n        </div>\n\n      </div>\n\n\n    </div>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport React, { useEffect, useRef } from 'react'\nimport { AppRoute, useApp, useStore } from '../state'\nimport { AccountList } from '../components/AccountList'\nimport { SearchBox } from '../components/SearchBox'\nimport { AddForm } from '../components/AddForm'\nimport { AppHeader } from '../components/AppHeader'\nimport jsQR from 'jsqr'\nimport png from 'png.js'\nimport { SettingForm } from '../components/SettingForm'\n\nimport 'rmc-notification/assets/index.css'\nimport Notification from 'rmc-notification'\nimport { NowTime } from '../components/NowTime'\n\n// Sadly png.js doesn't return an array of pixel data, so we have to construct one by iterating over and calling getPixel\nfunction convertPNGtoByteArray (pngData) {\n  const data = new Uint8ClampedArray(pngData.width * pngData.height * 4)\n  for (let y = 0; y < pngData.height; y++) {\n    for (let x = 0; x < pngData.width; x++) {\n      const pixelData = pngData.getPixel(x, y)\n\n      data[(y * pngData.width + x) * 4 + 0] = pixelData[0]\n      data[(y * pngData.width + x) * 4 + 1] = pixelData[1]\n      data[(y * pngData.width + x) * 4 + 2] = pixelData[2]\n      data[(y * pngData.width + x) * 4 + 3] = pixelData[3]\n    }\n  }\n  return data\n}\n\nexport const Main = observer(function Main (xxx) {\n  const store = useStore()\n  const appStore = useApp()\n\n  const fileReader = useRef(null)\n  const inputFileEl = useRef(null)\n\n  const ToastContainer = useRef(null)\n\n  useEffect(() => {\n    fileReader.current = new FileReader()\n\n    fileReader.current.onload = function (event) {\n      const pngReader = new png(event.target.result)\n      pngReader.parse(function (err, pngData) {\n        if (err) throw err\n        const pixelArray = convertPNGtoByteArray(pngData)\n        console.log('a', jsQR(pixelArray, pngData.width, pngData.height))\n      })\n    }\n\n    let notification = null\n    Notification.newInstance({\n      getContainer: () => ToastContainer.current,\n    }, (n) => notification = n)\n\n    store.api.notify = ({msg = 'msg', time = 1.5}) => {\n      notification.notice({\n        duration: time,\n        content: <span>{msg}</span>,\n        onClose () {\n          console.log('simple close')\n        },\n      })\n    }\n\n    setTimeout(() => {\n\n      // store.api.notify({msg: '你好世界'})\n\n    }, 2000)\n\n    // toast.current.raise({\n    //   // content: <div>这是内容</div>,\n    //   // onClick: ({ toastId, dismiss }) => { console.log('dismissing!'); dismiss(); }\n    // });\n\n  }, [])\n\n  return (\n    <div className={'Main'}>\n      <div ref={ToastContainer}/>\n\n      {/*<form>*/}\n      {/*<input*/}\n      {/*ref={inputFileEl}*/}\n      {/*type=\"file\"*/}\n      {/*onChange={(evt) => {*/}\n      {/*fileReader.current.readAsArrayBuffer(inputFileEl.current.files[0])*/}\n      {/*}}*/}\n      {/*/>*/}\n      {/*</form>*/}\n\n      <AppHeader/>\n      {appStore.appRoute === AppRoute.Main && (\n        <>\n          <NowTime/>\n          <SearchBox/>\n          <AccountList/>\n        </>\n      )}\n\n      {appStore.appRoute === AppRoute.AddOrEdit && (\n        <>\n          <AddForm/>\n        </>\n      )}\n\n      {appStore.appRoute === AppRoute.Setting && (\n        <>\n          <SettingForm/>\n        </>\n      )}\n\n    </div>\n  )\n})\n","import React, { ReactNode } from 'react'\nimport { CoreStoreClazz } from './state'\n\nexport class ApiCenter {\n\n  constructor (store: CoreStoreClazz) {\n    store.api = this\n  }\n\n  notify (notify: { msg: ReactNode, time?: number }) {\n    console.log('通知提醒')\n  }\n}\n\nexport const createApi = (store: CoreStoreClazz) => {\n  new ApiCenter(store)\n}\n\n","import React, { useEffect } from 'react'\nimport { observer } from 'mobx-react-lite'\nimport { AppStore, CoreStore, createAdapter, createAppStore, createStore } from './state'\nimport { Main } from './pages/Main'\nimport { initializeIcons } from 'office-ui-fabric-react'\nimport * as ls from 'store'\nimport * as _ from 'lodash'\nimport { createApi } from './ApiCenter'\n\nconst lsStoreKey = 'tfa_manager'\n\nconst lsGet = (key: string, defaultValues: any): any => {\n  const lsRootStore = ls.get(lsStoreKey, {})\n  const field = lsRootStore[key]\n  if (field === undefined) {\n    return defaultValues\n  } else {\n    return field\n  }\n}\n\nconst lsSet = (key: string, val: any): any => {\n  const lsRootStore = ls.get(lsStoreKey, {})\n  lsRootStore[key] = val\n  ls.set(lsStoreKey, lsRootStore)\n}\n\nconst getAccounts = () => {\n  return lsGet('accounts', [])\n}\n\nconst saveAccounts = (accounts) => {\n  lsSet('accounts', accounts)\n}\n\nconst ss = createStore(createAdapter({\n  getInitialList: () => getAccounts(),\n\n  addItem: (item) => {\n    const accounts = getAccounts()\n    accounts.push(item)\n    saveAccounts(accounts)\n  },\n\n  updateItem: (item) => {\n    const accounts = getAccounts()\n    const account = _.find(accounts, {secret: item.secret})\n    Object.assign(account, item)\n    saveAccounts(accounts)\n  },\n\n  removeItem: (item) => {\n    const accounts = getAccounts()\n    _.remove(accounts, {secret: item.secret})\n    saveAccounts(accounts)\n  },\n\n  getInitialDeltaTime: () => {\n    return lsGet('deltaTime', 0)\n  },\n  saveDeltaTime: (deltaTime) => {\n    lsSet('deltaTime', deltaTime)\n  }\n\n}))\n\n// ss.addItem({secret: 'LHGKZFPXUS5ZJONQ', remark: 'aaaaaaaaaaaaaa'})\n// ss.addItem({secret: 'LHGKZFPXUS5ZJONK', remark: 'aaaaaaaabbbbb'})\n\n// for (let i = 0; i < 0; i++) {\n//   const secret = `LHGKZFPXUS5Z${i}`\n//   ss.addItem({secret, remark: secret})\n// }\n\nconst appss = createAppStore(ss)\n\ncreateApi(ss)\n\ninitializeIcons()\n\nexport const App = observer(() => {\n\n  useEffect(() => {\n\n  }, [])\n\n  return (\n    <CoreStore.Provider value={ss}>\n      <AppStore.Provider value={appss}>\n        <div className={'app'}>\n          <Main/>\n        </div>\n      </AppStore.Provider>\n    </CoreStore.Provider>\n\n  )\n})\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport { App } from './app'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App/>, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register()\n\n\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n *  @module   : BASE32 module to generate the random b32 key\n *              and decode the secret.\n *  @author   : Gin (gin.lance.inside@hotmail.com)\n */\n\nvar nibbler = require('./nibbler/nibbler');\n\nvar Base32 = exports.Base32 = function () {\n  function Base32() {\n    _classCallCheck(this, Base32);\n  }\n\n  _createClass(Base32, null, [{\n    key: 'decode',\n\n    /* ＊\n       * Base32 decode function\n       *\n       * @param {secret}\n       * @type {String}\n       * @desc input string\n       *\n       * @return {String}\n       */\n    value: function decode(secret) {\n      return nibbler.b32decode(secret);\n    }\n\n    /* ＊\n       * Base32 generate random b32 encoded string function\n       *\n       * @param {length}\n       * @type {int}\n       * @desc the length of random b32 encoded string\n       *\n       * @return {String}\n       */\n\n  }, {\n    key: 'random_gen',\n    value: function random_gen() {\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16;\n\n      var random_str = Math.random().toString(36);\n      random_str = nibbler.b32encode(random_str);\n\n      return random_str.substring(0, length);\n    }\n  }]);\n\n  return Base32;\n}();"],"sourceRoot":""}